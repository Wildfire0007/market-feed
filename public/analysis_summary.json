{
  "ok": true,
  "generated_utc": "2025-10-23T06:17:10Z",
  "analysis_started_utc": "2025-10-23T06:17:10Z",
  "assets": {
    "EURUSD": {
      "asset": "EURUSD",
      "ok": false,
      "retrieved_at_utc": "2025-10-23T06:17:10Z",
      "source": "Twelve Data (lokális JSON)",
      "spot": {
        "price": 1.16014,
        "utc": "2025-10-23T06:00:00Z",
        "retrieved_at_utc": "2025-10-23T06:17:10Z"
      },
      "signal": "no entry",
      "probability": 0,
      "entry": null,
      "sl": null,
      "tp1": null,
      "tp2": null,
      "rr": null,
      "leverage": 30,
      "gates": {
        "mode": "data_gap",
        "required": [
          "data_integrity"
        ],
        "missing": [
          "data_integrity"
        ]
      },
      "session_info": {
        "open": null,
        "within_window": null,
        "weekday_ok": null,
        "status": "unavailable",
        "status_note": "Hiányzó adat"
      },
      "diagnostics": {
        "timeframes": {
          "k1m": {
            "last_raw_utc": "2025-10-23T06:00:00Z",
            "last_closed_utc": "2025-10-23T06:00:00Z",
            "latency_seconds": 1030,
            "expected_max_delay_seconds": 180,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 420.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "EUR/USD",
            "used_exchange": "FX"
          },
          "k5m": {
            "last_raw_utc": "2025-10-23T06:00:00Z",
            "last_closed_utc": "2025-10-23T06:00:00Z",
            "latency_seconds": 1030,
            "expected_max_delay_seconds": 300,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 1200.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "EUR/USD",
            "used_exchange": "FX"
          },
          "k1h": {
            "last_raw_utc": "2025-10-23T06:00:00Z",
            "last_closed_utc": "2025-10-23T06:00:00Z",
            "latency_seconds": 1030,
            "expected_max_delay_seconds": 3600,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 9000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "EUR/USD",
            "used_exchange": "FX"
          },
          "k4h": {
            "last_raw_utc": "2025-10-23T04:00:00Z",
            "last_closed_utc": "2025-10-23T04:00:00Z",
            "latency_seconds": 8230,
            "expected_max_delay_seconds": 14400,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 36000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "EUR/USD",
            "used_exchange": "FX"
          },
          "spot": {
            "last_raw_utc": "2025-10-23T06:00:00Z",
            "latency_seconds": 1030,
            "expected_max_delay_seconds": 900,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "source": "kline_5m_close",
            "fallback_used": true,
            "realtime_override": true,
            "freshness_limit_seconds": 900.0,
            "freshness_retries": 0,
            "freshness_violation": true,
            "freshness_violation_meta": false,
            "used_symbol": "EUR/USD",
            "used_exchange": "FX",
            "original_issue": "Spot data stale: 15 min behind (limit 15 min)"
          }
        },
        "source_files": {
          "spot.json": "2025-10-23T06:16:57Z",
          "klines_1m.json": "2025-10-23T06:16:57Z",
          "klines_5m.json": "2025-10-23T06:16:57Z",
          "klines_1h.json": "2025-10-23T06:16:57Z",
          "klines_4h.json": "2025-10-23T06:16:57Z"
        },
        "latency_flags": [
          "spot: spot data stale: 15 min behind (limit 15 min) — 5m zárt gyertya árát használjuk (17 perc késés)",
          "k1m: utolsó zárt gyertya 17 perc késésben van",
          "k1m: jelzés korlátozva 17 perc késés miatt",
          "k5m: utolsó zárt gyertya 17 perc késésben van",
          "spot: utolsó adat 17 perc késésben van"
        ],
        "refresh_tips": [
          "Az analysis.py mindig a legutóbbi ZÁRT gyertyával számol (5m: max. ~5 perc késés).",
          "CI/CD-ben kösd össze a Trading és Analysis futást: az analysis job csak a trading után induljon (needs: trading).",
          "A kliens kéréséhez adj cache-busting query paramot (pl. ?v=<timestamp>) és no-store cache-control fejlécet.",
          "Cloudflare Worker stale policy: 5m feedre állítsd 120s-re, hogy hamar átjöjjön az új jel.",
          "A dashboard stabilizáló (2 azonos jel + 10 perc cooldown) lassíthatja a kártya frissítését — lazítsd, ha realtime kell.",
          "Hiányzó ML modellek: EURUSD, GOLD_CFD, NVDA, SRTY, USDJPY, USOIL – töltsd fel a public/models/<asset>_gbm.pkl fájlokat a valószínűségi score aktiválásához."
        ]
      },
      "reasons": [
        "Critical data latency — belépés tiltva",
        "k1m: jelzés korlátozva — 17 perc késés",
        "Realtime spot feed override"
      ]
    },
    "GOLD_CFD": {
      "asset": "GOLD_CFD",
      "ok": false,
      "retrieved_at_utc": "2025-10-23T06:17:11Z",
      "source": "Twelve Data (lokális JSON)",
      "spot": {
        "price": 4116.16,
        "utc": "2025-10-23T06:00:00Z",
        "retrieved_at_utc": "2025-10-23T06:17:11Z"
      },
      "signal": "no entry",
      "probability": 0,
      "entry": null,
      "sl": null,
      "tp1": null,
      "tp2": null,
      "rr": null,
      "leverage": 20,
      "gates": {
        "mode": "data_gap",
        "required": [
          "data_integrity"
        ],
        "missing": [
          "data_integrity"
        ]
      },
      "session_info": {
        "open": null,
        "within_window": null,
        "weekday_ok": null,
        "status": "unavailable",
        "status_note": "Hiányzó adat"
      },
      "diagnostics": {
        "timeframes": {
          "k1m": {
            "last_raw_utc": "2025-10-23T06:00:00Z",
            "last_closed_utc": "2025-10-23T06:00:00Z",
            "latency_seconds": 1031,
            "expected_max_delay_seconds": 180,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 420.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "XAU/USD",
            "used_exchange": null
          },
          "k5m": {
            "last_raw_utc": "2025-10-23T06:00:00Z",
            "last_closed_utc": "2025-10-23T06:00:00Z",
            "latency_seconds": 1031,
            "expected_max_delay_seconds": 300,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 1200.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "XAU/USD",
            "used_exchange": null
          },
          "k1h": {
            "last_raw_utc": "2025-10-23T06:00:00Z",
            "last_closed_utc": "2025-10-23T06:00:00Z",
            "latency_seconds": 1031,
            "expected_max_delay_seconds": 3600,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 9000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "XAU/USD",
            "used_exchange": null
          },
          "k4h": {
            "last_raw_utc": "2025-10-23T04:00:00Z",
            "last_closed_utc": "2025-10-23T04:00:00Z",
            "latency_seconds": 8231,
            "expected_max_delay_seconds": 14400,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 36000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "XAU/USD",
            "used_exchange": null
          },
          "spot": {
            "last_raw_utc": "2025-10-23T06:00:00Z",
            "latency_seconds": 1031,
            "expected_max_delay_seconds": 900,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "source": "kline_5m_close",
            "fallback_used": true,
            "realtime_override": true,
            "freshness_limit_seconds": 900.0,
            "freshness_retries": 0,
            "freshness_violation": true,
            "freshness_violation_meta": false,
            "used_symbol": "XAU/USD",
            "used_exchange": null,
            "original_issue": "Spot data stale: 15 min behind (limit 15 min)"
          }
        },
        "source_files": {
          "spot.json": "2025-10-23T06:16:57Z",
          "klines_1m.json": "2025-10-23T06:16:57Z",
          "klines_5m.json": "2025-10-23T06:16:57Z",
          "klines_1h.json": "2025-10-23T06:16:57Z",
          "klines_4h.json": "2025-10-23T06:16:57Z"
        },
        "latency_flags": [
          "spot: spot data stale: 15 min behind (limit 15 min) — 5m zárt gyertya árát használjuk (17 perc késés)",
          "k1m: utolsó zárt gyertya 17 perc késésben van",
          "k1m: jelzés korlátozva 17 perc késés miatt",
          "k5m: utolsó zárt gyertya 17 perc késésben van",
          "spot: utolsó adat 17 perc késésben van"
        ],
        "refresh_tips": [
          "Az analysis.py mindig a legutóbbi ZÁRT gyertyával számol (5m: max. ~5 perc késés).",
          "CI/CD-ben kösd össze a Trading és Analysis futást: az analysis job csak a trading után induljon (needs: trading).",
          "A kliens kéréséhez adj cache-busting query paramot (pl. ?v=<timestamp>) és no-store cache-control fejlécet.",
          "Cloudflare Worker stale policy: 5m feedre állítsd 120s-re, hogy hamar átjöjjön az új jel.",
          "A dashboard stabilizáló (2 azonos jel + 10 perc cooldown) lassíthatja a kártya frissítését — lazítsd, ha realtime kell.",
          "Hiányzó ML modellek: EURUSD, GOLD_CFD, NVDA, SRTY, USDJPY, USOIL – töltsd fel a public/models/<asset>_gbm.pkl fájlokat a valószínűségi score aktiválásához."
        ]
      },
      "reasons": [
        "Critical data latency — belépés tiltva",
        "k1m: jelzés korlátozva — 17 perc késés",
        "Realtime spot feed override"
      ]
    },
    "NVDA": {
      "asset": "NVDA",
      "ok": false,
      "retrieved_at_utc": "2025-10-23T06:17:12Z",
      "source": "Twelve Data (lokális JSON)",
      "spot": {
        "price": 180.289993,
        "utc": "2025-10-22T19:55:00Z",
        "retrieved_at_utc": "2025-10-23T06:17:12Z"
      },
      "signal": "no entry",
      "probability": 0,
      "entry": null,
      "sl": null,
      "tp1": null,
      "tp2": null,
      "rr": null,
      "leverage": 5,
      "gates": {
        "mode": "data_gap",
        "required": [
          "data_integrity"
        ],
        "missing": [
          "data_integrity"
        ]
      },
      "session_info": {
        "open": null,
        "within_window": null,
        "weekday_ok": null,
        "status": "unavailable",
        "status_note": "Hiányzó adat"
      },
      "diagnostics": {
        "timeframes": {
          "k1m": {
            "last_raw_utc": "2025-10-22T19:59:00Z",
            "last_closed_utc": "2025-10-22T19:59:00Z",
            "latency_seconds": 37092,
            "expected_max_delay_seconds": 180,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 420.0,
            "freshness_violation": true,
            "freshness_retries": 1,
            "used_symbol": "NVDA",
            "used_exchange": "NASDAQ"
          },
          "k5m": {
            "last_raw_utc": "2025-10-22T19:55:00Z",
            "last_closed_utc": "2025-10-22T19:55:00Z",
            "latency_seconds": 37332,
            "expected_max_delay_seconds": 300,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 1200.0,
            "freshness_violation": true,
            "freshness_retries": 1,
            "used_symbol": "NVDA",
            "used_exchange": "NASDAQ"
          },
          "k1h": {
            "last_raw_utc": "2025-10-22T19:30:00Z",
            "last_closed_utc": "2025-10-22T19:30:00Z",
            "latency_seconds": 38832,
            "expected_max_delay_seconds": 3600,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 9000.0,
            "freshness_violation": true,
            "freshness_retries": 1,
            "used_symbol": "NVDA",
            "used_exchange": "NASDAQ"
          },
          "k4h": {
            "last_raw_utc": "2025-10-22T17:30:00Z",
            "last_closed_utc": "2025-10-22T17:30:00Z",
            "latency_seconds": 46032,
            "expected_max_delay_seconds": 14400,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 36000.0,
            "freshness_violation": true,
            "freshness_retries": 1,
            "used_symbol": "NVDA",
            "used_exchange": "NASDAQ"
          },
          "spot": {
            "last_raw_utc": "2025-10-22T19:55:00Z",
            "latency_seconds": 37332,
            "expected_max_delay_seconds": 600,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "source": "kline_5m_close",
            "fallback_used": true,
            "realtime_override": true,
            "freshness_limit_seconds": 900.0,
            "freshness_retries": 0,
            "freshness_violation": true,
            "freshness_violation_meta": false,
            "used_symbol": "NVDA",
            "used_exchange": "NASDAQ",
            "original_issue": "Spot data stale: 14 min behind (limit 10 min)"
          }
        },
        "source_files": {
          "spot.json": "2025-10-23T06:16:57Z",
          "klines_1m.json": "2025-10-23T06:16:57Z",
          "klines_5m.json": "2025-10-23T06:16:57Z",
          "klines_1h.json": "2025-10-23T06:16:57Z",
          "klines_4h.json": "2025-10-23T06:16:57Z"
        },
        "latency_flags": [
          "spot: spot data stale: 14 min behind (limit 10 min) — 5m zárt gyertya árát használjuk (622 perc késés)",
          "k1m: utolsó zárt gyertya 618 perc késésben van",
          "k1m: jelzés korlátozva 618 perc késés miatt",
          "k5m: utolsó zárt gyertya 622 perc késésben van",
          "k5m: jelzés korlátozva 622 perc késés miatt",
          "k1h: utolsó zárt gyertya 647 perc késésben van",
          "k1h: jelzés korlátozva 647 perc késés miatt",
          "k4h: utolsó zárt gyertya 767 perc késésben van",
          "k4h: jelzés korlátozva 767 perc késés miatt",
          "spot: utolsó adat 10 óra késésben van"
        ],
        "refresh_tips": [
          "Az analysis.py mindig a legutóbbi ZÁRT gyertyával számol (5m: max. ~5 perc késés).",
          "CI/CD-ben kösd össze a Trading és Analysis futást: az analysis job csak a trading után induljon (needs: trading).",
          "A kliens kéréséhez adj cache-busting query paramot (pl. ?v=<timestamp>) és no-store cache-control fejlécet.",
          "Cloudflare Worker stale policy: 5m feedre állítsd 120s-re, hogy hamar átjöjjön az új jel.",
          "A dashboard stabilizáló (2 azonos jel + 10 perc cooldown) lassíthatja a kártya frissítését — lazítsd, ha realtime kell.",
          "Hiányzó ML modellek: EURUSD, GOLD_CFD, NVDA, SRTY, USDJPY, USOIL – töltsd fel a public/models/<asset>_gbm.pkl fájlokat a valószínűségi score aktiválásához."
        ]
      },
      "reasons": [
        "Critical data latency — belépés tiltva",
        "k1m: jelzés korlátozva — 618 perc késés",
        "k5m: jelzés korlátozva — 622 perc késés",
        "k1h: jelzés korlátozva — 647 perc késés",
        "k4h: jelzés korlátozva — 767 perc késés",
        "Realtime spot feed override"
      ]
    },
    "SRTY": {
      "asset": "SRTY",
      "ok": false,
      "retrieved_at_utc": "2025-10-23T06:17:12Z",
      "source": "Twelve Data (lokális JSON)",
      "spot": {
        "price": 11.425,
        "utc": "2025-10-22T19:55:00Z",
        "retrieved_at_utc": "2025-10-23T06:17:12Z"
      },
      "signal": "no entry",
      "probability": 0,
      "entry": null,
      "sl": null,
      "tp1": null,
      "tp2": null,
      "rr": null,
      "leverage": 3,
      "gates": {
        "mode": "data_gap",
        "required": [
          "data_integrity"
        ],
        "missing": [
          "data_integrity"
        ]
      },
      "session_info": {
        "open": null,
        "within_window": null,
        "weekday_ok": null,
        "status": "unavailable",
        "status_note": "Hiányzó adat"
      },
      "diagnostics": {
        "timeframes": {
          "k1m": {
            "last_raw_utc": "2025-10-22T19:59:00Z",
            "last_closed_utc": "2025-10-22T19:59:00Z",
            "latency_seconds": 37092,
            "expected_max_delay_seconds": 180,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 420.0,
            "freshness_violation": true,
            "freshness_retries": 1,
            "used_symbol": "SRTY",
            "used_exchange": null
          },
          "k5m": {
            "last_raw_utc": "2025-10-22T19:55:00Z",
            "last_closed_utc": "2025-10-22T19:55:00Z",
            "latency_seconds": 37332,
            "expected_max_delay_seconds": 300,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 1200.0,
            "freshness_violation": true,
            "freshness_retries": 1,
            "used_symbol": "SRTY",
            "used_exchange": null
          },
          "k1h": {
            "last_raw_utc": "2025-10-22T19:30:00Z",
            "last_closed_utc": "2025-10-22T19:30:00Z",
            "latency_seconds": 38832,
            "expected_max_delay_seconds": 3600,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 9000.0,
            "freshness_violation": true,
            "freshness_retries": 1,
            "used_symbol": "SRTY",
            "used_exchange": null
          },
          "k4h": {
            "last_raw_utc": "2025-10-22T17:30:00Z",
            "last_closed_utc": "2025-10-22T17:30:00Z",
            "latency_seconds": 46032,
            "expected_max_delay_seconds": 14400,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 36000.0,
            "freshness_violation": true,
            "freshness_retries": 1,
            "used_symbol": "SRTY",
            "used_exchange": null
          },
          "spot": {
            "last_raw_utc": "2025-10-22T19:55:00Z",
            "latency_seconds": 37332,
            "expected_max_delay_seconds": 600,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "source": "kline_5m_close",
            "fallback_used": true,
            "realtime_override": true,
            "freshness_limit_seconds": 900.0,
            "freshness_retries": 0,
            "freshness_violation": true,
            "freshness_violation_meta": false,
            "used_symbol": "SRTY",
            "used_exchange": null,
            "original_issue": "Spot data stale: 12 min behind (limit 10 min)"
          }
        },
        "source_files": {
          "spot.json": "2025-10-23T06:16:57Z",
          "klines_1m.json": "2025-10-23T06:16:57Z",
          "klines_5m.json": "2025-10-23T06:16:57Z",
          "klines_1h.json": "2025-10-23T06:16:57Z",
          "klines_4h.json": "2025-10-23T06:16:57Z"
        },
        "latency_flags": [
          "spot: spot data stale: 12 min behind (limit 10 min) — 5m zárt gyertya árát használjuk (622 perc késés)",
          "k1m: utolsó zárt gyertya 618 perc késésben van",
          "k1m: jelzés korlátozva 618 perc késés miatt",
          "k5m: utolsó zárt gyertya 622 perc késésben van",
          "k5m: jelzés korlátozva 622 perc késés miatt",
          "k1h: utolsó zárt gyertya 647 perc késésben van",
          "k1h: jelzés korlátozva 647 perc késés miatt",
          "k4h: utolsó zárt gyertya 767 perc késésben van",
          "k4h: jelzés korlátozva 767 perc késés miatt",
          "spot: utolsó adat 10 óra késésben van"
        ],
        "refresh_tips": [
          "Az analysis.py mindig a legutóbbi ZÁRT gyertyával számol (5m: max. ~5 perc késés).",
          "CI/CD-ben kösd össze a Trading és Analysis futást: az analysis job csak a trading után induljon (needs: trading).",
          "A kliens kéréséhez adj cache-busting query paramot (pl. ?v=<timestamp>) és no-store cache-control fejlécet.",
          "Cloudflare Worker stale policy: 5m feedre állítsd 120s-re, hogy hamar átjöjjön az új jel.",
          "A dashboard stabilizáló (2 azonos jel + 10 perc cooldown) lassíthatja a kártya frissítését — lazítsd, ha realtime kell.",
          "Hiányzó ML modellek: EURUSD, GOLD_CFD, NVDA, SRTY, USDJPY, USOIL – töltsd fel a public/models/<asset>_gbm.pkl fájlokat a valószínűségi score aktiválásához."
        ]
      },
      "reasons": [
        "Critical data latency — belépés tiltva",
        "k1m: jelzés korlátozva — 618 perc késés",
        "k5m: jelzés korlátozva — 622 perc késés",
        "k1h: jelzés korlátozva — 647 perc késés",
        "k4h: jelzés korlátozva — 767 perc késés",
        "Realtime spot feed override"
      ]
    },
    "USDJPY": {
      "asset": "USDJPY",
      "ok": false,
      "retrieved_at_utc": "2025-10-23T06:17:13Z",
      "source": "Twelve Data (lokális JSON)",
      "spot": {
        "price": 152.384995,
        "utc": "2025-10-23T06:00:00Z",
        "retrieved_at_utc": "2025-10-23T06:17:13Z"
      },
      "signal": "no entry",
      "probability": 0,
      "entry": null,
      "sl": null,
      "tp1": null,
      "tp2": null,
      "rr": null,
      "leverage": 30,
      "gates": {
        "mode": "data_gap",
        "required": [
          "data_integrity"
        ],
        "missing": [
          "data_integrity"
        ]
      },
      "session_info": {
        "open": null,
        "within_window": null,
        "weekday_ok": null,
        "status": "unavailable",
        "status_note": "Hiányzó adat"
      },
      "diagnostics": {
        "timeframes": {
          "k1m": {
            "last_raw_utc": "2025-10-23T06:00:00Z",
            "last_closed_utc": "2025-10-23T06:00:00Z",
            "latency_seconds": 1033,
            "expected_max_delay_seconds": 180,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 420.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "USD/JPY",
            "used_exchange": "FX"
          },
          "k5m": {
            "last_raw_utc": "2025-10-23T06:00:00Z",
            "last_closed_utc": "2025-10-23T06:00:00Z",
            "latency_seconds": 1033,
            "expected_max_delay_seconds": 300,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 1200.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "USD/JPY",
            "used_exchange": "FX"
          },
          "k1h": {
            "last_raw_utc": "2025-10-23T06:00:00Z",
            "last_closed_utc": "2025-10-23T06:00:00Z",
            "latency_seconds": 1033,
            "expected_max_delay_seconds": 3600,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 9000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "USD/JPY",
            "used_exchange": "FX"
          },
          "k4h": {
            "last_raw_utc": "2025-10-23T04:00:00Z",
            "last_closed_utc": "2025-10-23T04:00:00Z",
            "latency_seconds": 8233,
            "expected_max_delay_seconds": 14400,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 36000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "USD/JPY",
            "used_exchange": "FX"
          },
          "spot": {
            "last_raw_utc": "2025-10-23T06:00:00Z",
            "latency_seconds": 1033,
            "expected_max_delay_seconds": 900,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "source": "kline_5m_close",
            "fallback_used": true,
            "realtime_override": true,
            "freshness_limit_seconds": 900.0,
            "freshness_retries": 0,
            "freshness_violation": true,
            "freshness_violation_meta": false,
            "used_symbol": "USD/JPY",
            "used_exchange": "FX",
            "original_issue": "Spot data stale: 15 min behind (limit 15 min)"
          }
        },
        "source_files": {
          "spot.json": "2025-10-23T06:16:57Z",
          "klines_1m.json": "2025-10-23T06:16:57Z",
          "klines_5m.json": "2025-10-23T06:16:57Z",
          "klines_1h.json": "2025-10-23T06:16:57Z",
          "klines_4h.json": "2025-10-23T06:16:57Z"
        },
        "latency_flags": [
          "spot: spot data stale: 15 min behind (limit 15 min) — 5m zárt gyertya árát használjuk (17 perc késés)",
          "k1m: utolsó zárt gyertya 17 perc késésben van",
          "k1m: jelzés korlátozva 17 perc késés miatt",
          "k5m: utolsó zárt gyertya 17 perc késésben van",
          "spot: utolsó adat 17 perc késésben van"
        ],
        "refresh_tips": [
          "Az analysis.py mindig a legutóbbi ZÁRT gyertyával számol (5m: max. ~5 perc késés).",
          "CI/CD-ben kösd össze a Trading és Analysis futást: az analysis job csak a trading után induljon (needs: trading).",
          "A kliens kéréséhez adj cache-busting query paramot (pl. ?v=<timestamp>) és no-store cache-control fejlécet.",
          "Cloudflare Worker stale policy: 5m feedre állítsd 120s-re, hogy hamar átjöjjön az új jel.",
          "A dashboard stabilizáló (2 azonos jel + 10 perc cooldown) lassíthatja a kártya frissítését — lazítsd, ha realtime kell.",
          "Hiányzó ML modellek: EURUSD, GOLD_CFD, NVDA, SRTY, USDJPY, USOIL – töltsd fel a public/models/<asset>_gbm.pkl fájlokat a valószínűségi score aktiválásához."
        ]
      },
      "reasons": [
        "Critical data latency — belépés tiltva",
        "k1m: jelzés korlátozva — 17 perc késés",
        "Realtime spot feed override"
      ]
    },
    "USOIL": {
      "asset": "USOIL",
      "ok": false,
      "retrieved_at_utc": "2025-10-23T06:17:14Z",
      "source": "Twelve Data (lokális JSON)",
      "spot": {
        "price": 60.799999,
        "utc": "2025-10-23T05:55:00Z",
        "retrieved_at_utc": "2025-10-23T06:17:14Z"
      },
      "signal": "no entry",
      "probability": 0,
      "entry": null,
      "sl": null,
      "tp1": null,
      "tp2": null,
      "rr": null,
      "leverage": 20,
      "gates": {
        "mode": "data_gap",
        "required": [
          "data_integrity"
        ],
        "missing": [
          "data_integrity"
        ]
      },
      "session_info": {
        "open": null,
        "within_window": null,
        "weekday_ok": null,
        "status": "unavailable",
        "status_note": "Hiányzó adat"
      },
      "diagnostics": {
        "timeframes": {
          "k1m": {
            "last_raw_utc": "2025-10-23T05:59:00Z",
            "last_closed_utc": "2025-10-23T05:59:00Z",
            "latency_seconds": 1094,
            "expected_max_delay_seconds": 180,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 420.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "WTI/USD",
            "used_exchange": null
          },
          "k5m": {
            "last_raw_utc": "2025-10-23T05:55:00Z",
            "last_closed_utc": "2025-10-23T05:55:00Z",
            "latency_seconds": 1334,
            "expected_max_delay_seconds": 300,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 1200.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "WTI/USD",
            "used_exchange": null
          },
          "k1h": {
            "last_raw_utc": "2025-10-23T05:00:00Z",
            "last_closed_utc": "2025-10-23T05:00:00Z",
            "latency_seconds": 4634,
            "expected_max_delay_seconds": 3600,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 9000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "WTI/USD",
            "used_exchange": null
          },
          "k4h": {
            "last_raw_utc": "2025-10-23T04:00:00Z",
            "last_closed_utc": "2025-10-23T04:00:00Z",
            "latency_seconds": 8234,
            "expected_max_delay_seconds": 14400,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 36000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "WTI/USD",
            "used_exchange": null
          },
          "spot": {
            "last_raw_utc": "2025-10-23T05:55:00Z",
            "latency_seconds": 1334,
            "expected_max_delay_seconds": 900,
            "source_mtime_utc": "2025-10-23T06:16:57Z",
            "source": "kline_5m_close",
            "fallback_used": true,
            "realtime_override": true,
            "freshness_limit_seconds": 900.0,
            "freshness_retries": 0,
            "freshness_violation": true,
            "freshness_violation_meta": false,
            "used_symbol": "WTI/USD",
            "used_exchange": null,
            "original_issue": "Spot data stale: 15 min behind (limit 15 min)"
          }
        },
        "source_files": {
          "spot.json": "2025-10-23T06:16:57Z",
          "klines_1m.json": "2025-10-23T06:16:57Z",
          "klines_5m.json": "2025-10-23T06:16:57Z",
          "klines_1h.json": "2025-10-23T06:16:57Z",
          "klines_4h.json": "2025-10-23T06:16:57Z"
        },
        "latency_flags": [
          "spot: spot data stale: 15 min behind (limit 15 min) — 5m zárt gyertya árát használjuk (22 perc késés)",
          "k1m: utolsó zárt gyertya 18 perc késésben van",
          "k1m: jelzés korlátozva 18 perc késés miatt",
          "k5m: utolsó zárt gyertya 22 perc késésben van",
          "k5m: jelzés korlátozva 22 perc késés miatt",
          "k1h: utolsó zárt gyertya 77 perc késésben van",
          "spot: utolsó adat 22 perc késésben van"
        ],
        "refresh_tips": [
          "Az analysis.py mindig a legutóbbi ZÁRT gyertyával számol (5m: max. ~5 perc késés).",
          "CI/CD-ben kösd össze a Trading és Analysis futást: az analysis job csak a trading után induljon (needs: trading).",
          "A kliens kéréséhez adj cache-busting query paramot (pl. ?v=<timestamp>) és no-store cache-control fejlécet.",
          "Cloudflare Worker stale policy: 5m feedre állítsd 120s-re, hogy hamar átjöjjön az új jel.",
          "A dashboard stabilizáló (2 azonos jel + 10 perc cooldown) lassíthatja a kártya frissítését — lazítsd, ha realtime kell.",
          "Hiányzó ML modellek: EURUSD, GOLD_CFD, NVDA, SRTY, USDJPY, USOIL – töltsd fel a public/models/<asset>_gbm.pkl fájlokat a valószínűségi score aktiválásához."
        ]
      },
      "reasons": [
        "Critical data latency — belépés tiltva",
        "k1m: jelzés korlátozva — 18 perc késés",
        "k5m: jelzés korlátozva — 22 perc késés",
        "Realtime spot feed override"
      ]
    }
  },
  "latency_flags": [
    "spot: spot data stale: 15 min behind (limit 15 min) — 5m zárt gyertya árát használjuk (17 perc késés)",
    "k1m: utolsó zárt gyertya 17 perc késésben van",
    "k1m: jelzés korlátozva 17 perc késés miatt",
    "k5m: utolsó zárt gyertya 17 perc késésben van",
    "spot: utolsó adat 17 perc késésben van",
    "spot: spot data stale: 15 min behind (limit 15 min) — 5m zárt gyertya árát használjuk (17 perc késés)",
    "k1m: utolsó zárt gyertya 17 perc késésben van",
    "k1m: jelzés korlátozva 17 perc késés miatt",
    "k5m: utolsó zárt gyertya 17 perc késésben van",
    "spot: utolsó adat 17 perc késésben van",
    "spot: spot data stale: 14 min behind (limit 10 min) — 5m zárt gyertya árát használjuk (622 perc késés)",
    "k1m: utolsó zárt gyertya 618 perc késésben van",
    "k1m: jelzés korlátozva 618 perc késés miatt",
    "k5m: utolsó zárt gyertya 622 perc késésben van",
    "k5m: jelzés korlátozva 622 perc késés miatt",
    "k1h: utolsó zárt gyertya 647 perc késésben van",
    "k1h: jelzés korlátozva 647 perc késés miatt",
    "k4h: utolsó zárt gyertya 767 perc késésben van",
    "k4h: jelzés korlátozva 767 perc késés miatt",
    "spot: utolsó adat 10 óra késésben van",
    "spot: spot data stale: 12 min behind (limit 10 min) — 5m zárt gyertya árát használjuk (622 perc késés)",
    "k1m: utolsó zárt gyertya 618 perc késésben van",
    "k1m: jelzés korlátozva 618 perc késés miatt",
    "k5m: utolsó zárt gyertya 622 perc késésben van",
    "k5m: jelzés korlátozva 622 perc késés miatt",
    "k1h: utolsó zárt gyertya 647 perc késésben van",
    "k1h: jelzés korlátozva 647 perc késés miatt",
    "k4h: utolsó zárt gyertya 767 perc késésben van",
    "k4h: jelzés korlátozva 767 perc késés miatt",
    "spot: utolsó adat 10 óra késésben van",
    "spot: spot data stale: 15 min behind (limit 15 min) — 5m zárt gyertya árát használjuk (17 perc késés)",
    "k1m: utolsó zárt gyertya 17 perc késésben van",
    "k1m: jelzés korlátozva 17 perc késés miatt",
    "k5m: utolsó zárt gyertya 17 perc késésben van",
    "spot: utolsó adat 17 perc késésben van",
    "spot: spot data stale: 15 min behind (limit 15 min) — 5m zárt gyertya árát használjuk (22 perc késés)",
    "k1m: utolsó zárt gyertya 18 perc késésben van",
    "k1m: jelzés korlátozva 18 perc késés miatt",
    "k5m: utolsó zárt gyertya 22 perc késésben van",
    "k5m: jelzés korlátozva 22 perc késés miatt",
    "k1h: utolsó zárt gyertya 77 perc késésben van",
    "spot: utolsó adat 22 perc késésben van"
  ],
  "troubleshooting": [
    "Az analysis.py mindig a legutóbbi ZÁRT gyertyával számol (5m: max. ~5 perc késés).",
    "CI/CD-ben kösd össze a Trading és Analysis futást: az analysis job csak a trading után induljon (needs: trading).",
    "A kliens kéréséhez adj cache-busting query paramot (pl. ?v=<timestamp>) és no-store cache-control fejlécet.",
    "Cloudflare Worker stale policy: 5m feedre állítsd 120s-re, hogy hamar átjöjjön az új jel.",
    "A dashboard stabilizáló (2 azonos jel + 10 perc cooldown) lassíthatja a kártya frissítését — lazítsd, ha realtime kell.",
    "Hiányzó ML modellek: EURUSD, GOLD_CFD, NVDA, SRTY, USDJPY, USOIL – töltsd fel a public/models/<asset>_gbm.pkl fájlokat a valószínűségi score aktiválásához.",
    "Hiányzó ML modellek: EURUSD, GOLD_CFD, NVDA, SRTY, USDJPY, USOIL – töltsd fel a public/models/<asset>_gbm.pkl fájlokat a valószínűségi score aktiválásához."
  ],
  "pipeline_monitoring": {
    "trading": {
      "started_utc": "2025-10-23T06:01:49Z",
      "completed_utc": "2025-10-23T06:16:35Z",
      "duration_seconds": 885.999
    },
    "updated_utc": "2025-10-23T06:17:10Z",
    "analysis": {
      "started_utc": "2025-10-23T06:17:10Z",
      "lag_from_trading_seconds": 35.232,
      "lag_threshold_seconds": 240,
      "lag_breached": false
    }
  },
  "ml_models_missing": {
    "EURUSD": "public/models/EURUSD_gbm.pkl",
    "GOLD_CFD": "public/models/GOLD_CFD_gbm.pkl",
    "NVDA": "public/models/NVDA_gbm.pkl",
    "SRTY": "public/models/SRTY_gbm.pkl",
    "USDJPY": "public/models/USDJPY_gbm.pkl",
    "USOIL": "public/models/USOIL_gbm.pkl"
  }
}