{
  "ok": true,
  "generated_utc": "2025-10-23T08:19:57Z",
  "analysis_started_utc": "2025-10-23T08:19:57Z",
  "assets": {
    "EURUSD": {
      "asset": "EURUSD",
      "ok": true,
      "retrieved_at_utc": "2025-10-23T08:19:57Z",
      "source": "Twelve Data (lokális JSON)",
      "spot": {
        "price": 1.16002,
        "utc": "2025-10-23T08:18:16+00:00",
        "retrieved_at_utc": "2025-10-23T08:18:16+00:00",
        "source": "twelvedata:quote",
        "realtime_override": false,
        "fallback_used": false,
        "confidence": 1.0,
        "avg_latency_profile": 271.4840159694868,
        "realtime_stats": {
          "samples": 3,
          "min_price": 1.16014,
          "max_price": 1.16014,
          "mean_price": 1.16014,
          "latency_avg": 0.0,
          "latency_max": 0.0,
          "latency_median": 0.0,
          "latency_latest": 0.0
        }
      },
      "signal": "no entry",
      "probability": 73,
      "probability_raw": 74,
      "entry": null,
      "sl": null,
      "tp1": null,
      "tp2": null,
      "rr": null,
      "leverage": 30,
      "stale_timeframes": {
        "k1m": false,
        "k5m": false,
        "k1h": false,
        "k4h": false
      },
      "biases": {
        "raw_4h": "short",
        "raw_1h": "short",
        "adjusted_4h": "short",
        "adjusted_1h": "short"
      },
      "gates": {
        "mode": "core",
        "required": [
          "session",
          "regime",
          "bias",
          "bos5m",
          "liquidity(fib zone)",
          "intraday_range_guard",
          "atr",
          "rr_math>=2.1",
          "tp_min_profit",
          "min_stoploss",
          "tp1_net>=+70%",
          "precision_score>=70",
          "precision_flow_alignment",
          "precision_trigger_sync"
        ],
        "missing": [
          "regime",
          "precision_score>=70",
          "precision_flow_alignment",
          "precision_trigger_sync"
        ]
      },
      "session_info": {
        "open": true,
        "entry_open": true,
        "within_window": true,
        "within_entry_window": true,
        "within_monitor_window": true,
        "weekday_ok": true,
        "now_utc": "2025-10-23T08:19:57.956147+00:00",
        "windows_utc": [
          [
            0,
            0,
            23,
            59
          ]
        ],
        "time_zone": "Europe/Berlin",
        "windows_local_cet": [
          [
            "02:00",
            "01:59"
          ]
        ],
        "status": "open",
        "status_note": "Piac nyitva"
      },
      "diagnostics": {
        "timeframes": {
          "k1m": {
            "last_raw_utc": "2025-10-23T08:16:00Z",
            "last_closed_utc": "2025-10-23T08:16:00Z",
            "latency_seconds": 237,
            "expected_max_delay_seconds": 180,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 420.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "EUR/USD",
            "used_exchange": "FX"
          },
          "k5m": {
            "last_raw_utc": "2025-10-23T08:15:00Z",
            "last_closed_utc": "2025-10-23T08:15:00Z",
            "latency_seconds": 297,
            "expected_max_delay_seconds": 300,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 1200.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "EUR/USD",
            "used_exchange": "FX"
          },
          "k1h": {
            "last_raw_utc": "2025-10-23T08:00:00Z",
            "last_closed_utc": "2025-10-23T08:00:00Z",
            "latency_seconds": 1197,
            "expected_max_delay_seconds": 3600,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 9000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "EUR/USD",
            "used_exchange": "FX"
          },
          "k4h": {
            "last_raw_utc": "2025-10-23T08:00:00Z",
            "last_closed_utc": "2025-10-23T08:00:00Z",
            "latency_seconds": 1197,
            "expected_max_delay_seconds": 14400,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 36000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "EUR/USD",
            "used_exchange": "FX"
          },
          "spot": {
            "last_raw_utc": "2025-10-23T08:18:16Z",
            "latency_seconds": 101,
            "expected_max_delay_seconds": 900,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "source": "twelvedata:quote",
            "fallback_used": false,
            "realtime_override": false,
            "freshness_limit_seconds": 900.0,
            "freshness_retries": 0,
            "freshness_violation": false,
            "freshness_violation_meta": false,
            "used_symbol": "EUR/USD",
            "used_exchange": "FX"
          }
        },
        "source_files": {
          "spot.json": "2025-10-23T08:19:31Z",
          "klines_1m.json": "2025-10-23T08:19:31Z",
          "klines_5m.json": "2025-10-23T08:19:31Z",
          "klines_1h.json": "2025-10-23T08:19:31Z",
          "klines_4h.json": "2025-10-23T08:19:31Z"
        },
        "latency_flags": [],
        "refresh_tips": [
          "Az analysis.py mindig a legutóbbi ZÁRT gyertyával számol (5m: max. ~5 perc késés).",
          "CI/CD-ben kösd össze a Trading és Analysis futást: az analysis job csak a trading után induljon (needs: trading).",
          "A kliens kéréséhez adj cache-busting query paramot (pl. ?v=<timestamp>) és no-store cache-control fejlécet.",
          "Cloudflare Worker stale policy: 5m feedre állítsd 120s-re, hogy hamar átjöjjön az új jel.",
          "A dashboard stabilizáló (2 azonos jel + 10 perc cooldown) lassíthatja a kártya frissítését — lazítsd, ha realtime kell.",
          "Hiányzó ML modellek: EURUSD, GOLD_CFD, NVDA, SRTY, USDJPY, USOIL – töltsd fel a public/models/<asset>_gbm.pkl fájlokat a valószínűségi score aktiválásához."
        ]
      },
      "reasons": [
        "Bias(4H→1H)=short (+15.0)",
        "Regime filter inaktív",
        "5M BOS trendirányba (+16.0)",
        "ATR erősség 1.07× küszöb (+11.4)",
        "Alacsony realised vol → magasabb RR igény",
        "Range expanzió támogatja a momentumot (+3.0)",
        "Fib zóna konfluencia (0.618–0.886) (+18.0)",
        "ML fallback: scikit-learn hiányzik — heurisztikus pontozás aktív",
        "missing: regime, precision_score>=70, precision_flow_alignment, precision_trigger_sync"
      ],
      "realtime_transport": "http",
      "probability_model_source": "fallback",
      "probability_fallback": {
        "base_probability": 0.743989044523862,
        "adjusted_logit": 0.9110310039535627,
        "probability": 0.7132110917112916,
        "threshold": 0.56,
        "steps": [
          {
            "feature": "ema21_slope",
            "weight": 1.1,
            "normalized": 0.008423867659205714,
            "delta": 0.009266254425126286
          },
          {
            "feature": "rel_atr",
            "weight": 0.35,
            "normalized": -0.06668949057528736,
            "delta": -0.023341321701350577
          },
          {
            "feature": "momentum_vol_ratio",
            "weight": 0.35,
            "normalized": -1.0,
            "delta": -0.35
          },
          {
            "feature": "news_event_severity",
            "weight": 0.25,
            "normalized": -0.5,
            "delta": -0.125
          },
          {
            "feature": "realtime_confidence",
            "weight": 0.9,
            "normalized": 0.6000000000000001,
            "delta": 0.5400000000000001
          },
          {
            "feature": "precision_score",
            "weight": 0.35,
            "normalized": 0.2,
            "delta": 0.06999999999999999
          },
          {
            "feature": "precision_trigger_confidence",
            "weight": 0.55,
            "normalized": -0.15400000000000005,
            "delta": -0.08470000000000004
          },
          {
            "feature": "momentum_trail_lock_ratio",
            "weight": 0.4,
            "normalized": -0.48,
            "delta": -0.192
          }
        ],
        "reason": "sklearn_missing"
      },
      "probability_model": 0.7132110917112916,
      "probability_model_raw": 0.743989044523862,
      "probability_calibrated": 0.7132110917112916,
      "probability_threshold": 0.56,
      "probability_stack": {
        "asset": "EURUSD",
        "unavailable_reason": "sklearn_missing",
        "source": "fallback",
        "fallback": {
          "base_probability": 0.743989044523862,
          "adjusted_logit": 0.9110310039535627,
          "probability": 0.7132110917112916,
          "threshold": 0.56,
          "steps": [
            {
              "feature": "ema21_slope",
              "weight": 1.1,
              "normalized": 0.008423867659205714,
              "delta": 0.009266254425126286
            },
            {
              "feature": "rel_atr",
              "weight": 0.35,
              "normalized": -0.06668949057528736,
              "delta": -0.023341321701350577
            },
            {
              "feature": "momentum_vol_ratio",
              "weight": 0.35,
              "normalized": -1.0,
              "delta": -0.35
            },
            {
              "feature": "news_event_severity",
              "weight": 0.25,
              "normalized": -0.5,
              "delta": -0.125
            },
            {
              "feature": "realtime_confidence",
              "weight": 0.9,
              "normalized": 0.6000000000000001,
              "delta": 0.5400000000000001
            },
            {
              "feature": "precision_score",
              "weight": 0.35,
              "normalized": 0.2,
              "delta": 0.06999999999999999
            },
            {
              "feature": "precision_trigger_confidence",
              "weight": 0.55,
              "normalized": -0.15400000000000005,
              "delta": -0.08470000000000004
            },
            {
              "feature": "momentum_trail_lock_ratio",
              "weight": 0.4,
              "normalized": -0.48,
              "delta": -0.192
            }
          ],
          "reason": "sklearn_missing"
        }
      },
      "ema21_slope_1h": -0.00033695470636822854,
      "ema21_slope_threshold": 0.015,
      "ema21_relation_1h": "below",
      "last_swing_high_1h": 1.15984,
      "last_swing_low_1h": 1.15907,
      "last_close_1h": 1.16002,
      "bos_5m_dir": "bos_down",
      "atr1h": 0.0007424999999999951,
      "momentum_volume_ratio": null,
      "momentum_liquidity_ok": true,
      "dynamic_tp_profile": {
        "core": {
          "tp1": 2.0,
          "tp2": 3.0,
          "rr": 2.1
        },
        "momentum": {
          "tp1": 1.5,
          "tp2": 2.4,
          "rr": 1.6800000000000002
        },
        "regime": "normal",
        "reference": {
          "current": 0.00030928571428571035,
          "q20": 0.0001407142857143067,
          "q50": 0.0002200000000000297,
          "q80": 0.0003582857142857269
        }
      },
      "order_flow_metrics": {
        "imbalance": null,
        "pressure": 0.0,
        "delta_volume": 0.0,
        "aggressor_ratio": null
      },
      "intraday_profile": {
        "asset": "EURUSD",
        "timestamp": "2025-10-23T08:19:57Z",
        "day_start_utc": "2025-10-22T22:00:00Z",
        "day_open": 1.161036,
        "day_high": 1.161036,
        "day_low": 1.15907,
        "day_range": 0.0019659999999999123,
        "range_vs_atr": 6.356581986142984,
        "range_position": 0.4832146490335955,
        "range_bias": "balanced",
        "range_state": "expansion",
        "range_compression": false,
        "range_expansion": true,
        "range_exhaustion_long": false,
        "range_exhaustion_short": false,
        "range_guard": {
          "long": false,
          "short": false
        },
        "opening_range_high": null,
        "opening_range_low": null,
        "opening_break": "none",
        "opening_range_minutes": 45,
        "opening_drive_ratio": null,
        "price_reference": 1.16002,
        "elapsed_minutes": 619,
        "notes": [
          "Range expanzió >1.5×ATR — agresszív menedzsment indokolt."
        ]
      },
      "volatility_overlay": {
        "implied_vol": null,
        "realised_vol": 9.755764896115435e-05,
        "realised_window_minutes": 120,
        "regime": "suppressed",
        "premium": null,
        "source_path": null,
        "implied_realised_ratio": null
      },
      "precision_plan": {
        "asset": "EURUSD",
        "direction": "sell",
        "score": 62.0,
        "confidence": "medium",
        "entry": 1.16014,
        "entry_window": [
          1.1600657714285714,
          1.160288457142857
        ],
        "stop_loss": 1.1605111428571429,
        "take_profit_1": 1.1593977142857141,
        "take_profit_2": 1.1590265714285715,
        "risk": 0.0003711428571428524,
        "liquidity_levels": [
          1.16033,
          1.16029,
          1.16029,
          1.16018,
          1.16014
        ],
        "factors": [
          "ATR1m 0.0001",
          "ATR5m 0.0003",
          "price near liquidity pocket"
        ],
        "score_threshold": 70.0,
        "score_ready": false,
        "trigger_state": "standby",
        "trigger_ready": false,
        "trigger_levels": {
          "window_low": 1.1600657714285714,
          "window_high": 1.160288457142857,
          "fire": 1.16014,
          "arm": 1.1600657714285714,
          "disarm": 1.160288457142857
        },
        "ready_ts": "2025-10-23T08:15:00Z",
        "order_flow_ready": false,
        "order_flow_strength": 0.0,
        "microstructure_score": 62.0,
        "trigger_progress": 0.7,
        "trigger_confidence": 0.44,
        "trigger_reasons": [
          "price near window"
        ],
        "context": {
          "intraday_profile": {
            "range_state": "expansion",
            "range_position": 0.4832146490335955,
            "range_vs_atr": 6.356581986142984
          }
        }
      },
      "execution_playbook": [
        {
          "step": "precision_trigger",
          "state": "standby",
          "description": "Precision trigger: standby",
          "entry_window": [
            1.1600657714285714,
            1.160288457142857
          ],
          "trigger_levels": {
            "window_low": 1.1600657714285714,
            "window_high": 1.160288457142857,
            "fire": 1.16014,
            "arm": 1.1600657714285714,
            "disarm": 1.160288457142857
          },
          "ready_ts": "2025-10-23T08:15:00Z",
          "score": 62.0,
          "score_threshold": 70.0,
          "score_ready": false,
          "trigger_ready": false,
          "order_flow_ready": false,
          "order_flow_strength": 0.0,
          "trigger_progress": 0.7,
          "trigger_confidence": 0.44,
          "reasons": [
            "price near window"
          ]
        }
      ],
      "invalid_levels": {
        "buy": 1.15869875,
        "sell": 1.16021125
      },
      "invalid_buffer_abs": 0.00037124999999999756,
      "action_plan": {
        "status": "standby",
        "priority": "low",
        "summary": "Nincs belépő – dolgozd le a hiányzó feltételeket.",
        "steps": [
          {
            "order": 1,
            "category": "precision_trigger",
            "instruction": "Precision trigger: standby",
            "source": "execution_playbook",
            "entry_window": [
              1.1600657714285714,
              1.160288457142857
            ],
            "trigger_levels": {
              "window_low": 1.1600657714285714,
              "window_high": 1.160288457142857,
              "fire": 1.16014,
              "arm": 1.1600657714285714,
              "disarm": 1.160288457142857
            }
          }
        ],
        "blockers": [
          "Trend filter nem támogatja az irányt.",
          "Precision score érje el a 70 szintet.",
          "Precision belépő: order flow megerősítés hiányzik.",
          "Precision belépő: trigger szinkronra vár."
        ],
        "blockers_raw": [
          "regime",
          "precision_score>=70",
          "precision_flow_alignment",
          "precision_trigger_sync"
        ],
        "notes": [
          "Range expanzió >1.5×ATR — agresszív menedzsment indokolt.",
          "Összesített valószínűség: 73%.",
          "Ajánlott tőkeáttétel: ×30.0.",
          "Precision score: 62.00 / küszöb 70.",
          "Precision confidence: medium.",
          "Precision trigger állapot: standby.",
          "Bias(4H→1H)=short (+15.0)",
          "Regime filter inaktív",
          "5M BOS trendirányba (+16.0)",
          "ATR erősség 1.07× küszöb (+11.4)",
          "Alacsony realised vol → magasabb RR igény",
          "Range expanzió támogatja a momentumot (+3.0)"
        ],
        "context": {
          "asset": "EURUSD",
          "decision": "no entry",
          "probability": 73,
          "session_open": true,
          "session_entry_open": true,
          "session_status": "open",
          "intraday_profile": {
            "range_state": "expansion",
            "range_position": 0.4832146490335955,
            "range_vs_atr": 6.356581986142984,
            "range_guard": {
              "long": false,
              "short": false
            },
            "opening_break": "none"
          },
          "precision_state": "standby",
          "precision_direction": "sell"
        }
      },
      "active_position_meta": {
        "ema21_slope_abs": 0.00033695470636822854,
        "ema21_slope_signed": -0.00033695470636822854,
        "ema21_slope_threshold": 0.015,
        "ema21_relation": "below",
        "structure_5m": "bos_down",
        "stale_timeframes": {
          "k1m": false,
          "k5m": false,
          "k1h": false,
          "k4h": false
        },
        "atr1h": 0.0007424999999999951,
        "atr1h_trail_floor": 0.00037124999999999756,
        "atr5": 0.00030928571428571035,
        "atr5_rel": 0.0002666210188494253,
        "atr5_threshold": 0.00025,
        "bos1h_long": true,
        "bos1h_short": false,
        "regime_ok": false,
        "effective_bias": "short",
        "last_close_1h": 1.16002,
        "last_swing_high_1h": 1.15984,
        "last_swing_low_1h": 1.15907,
        "invalid_level_sell": 1.16021125,
        "invalid_level_buy": 1.15869875,
        "invalid_buffer_abs": 0.00037124999999999756,
        "p_score": 74,
        "probability_calibrated": 0.7132110917112916,
        "probability_threshold": 0.56,
        "probability_model_raw": 0.743989044523862,
        "probability_model_source": "fallback",
        "tp_profile": {
          "tp1_r": 2.0,
          "tp2_r": 3.0
        },
        "realtime_confidence": 1.0,
        "avg_latency_profile": 271.4840159694868,
        "probability_fallback": {
          "base_probability": 0.743989044523862,
          "adjusted_logit": 0.9110310039535627,
          "probability": 0.7132110917112916,
          "threshold": 0.56,
          "steps": [
            {
              "feature": "ema21_slope",
              "weight": 1.1,
              "normalized": 0.008423867659205714,
              "delta": 0.009266254425126286
            },
            {
              "feature": "rel_atr",
              "weight": 0.35,
              "normalized": -0.06668949057528736,
              "delta": -0.023341321701350577
            },
            {
              "feature": "momentum_vol_ratio",
              "weight": 0.35,
              "normalized": -1.0,
              "delta": -0.35
            },
            {
              "feature": "news_event_severity",
              "weight": 0.25,
              "normalized": -0.5,
              "delta": -0.125
            },
            {
              "feature": "realtime_confidence",
              "weight": 0.9,
              "normalized": 0.6000000000000001,
              "delta": 0.5400000000000001
            },
            {
              "feature": "precision_score",
              "weight": 0.35,
              "normalized": 0.2,
              "delta": 0.06999999999999999
            },
            {
              "feature": "precision_trigger_confidence",
              "weight": 0.55,
              "normalized": -0.15400000000000005,
              "delta": -0.08470000000000004
            },
            {
              "feature": "momentum_trail_lock_ratio",
              "weight": 0.4,
              "normalized": -0.48,
              "delta": -0.192
            }
          ],
          "reason": "sklearn_missing"
        },
        "realtime_stats": {
          "samples": 3,
          "min_price": 1.16014,
          "max_price": 1.16014,
          "mean_price": 1.16014,
          "latency_avg": 0.0,
          "latency_max": 0.0,
          "latency_median": 0.0,
          "latency_latest": 0.0
        },
        "precision_plan": {
          "asset": "EURUSD",
          "direction": "sell",
          "score": 62.0,
          "confidence": "medium",
          "entry": 1.16014,
          "entry_window": [
            1.1600657714285714,
            1.160288457142857
          ],
          "stop_loss": 1.1605111428571429,
          "take_profit_1": 1.1593977142857141,
          "take_profit_2": 1.1590265714285715,
          "risk": 0.0003711428571428524,
          "liquidity_levels": [
            1.16033,
            1.16029,
            1.16029,
            1.16018,
            1.16014
          ],
          "factors": [
            "ATR1m 0.0001",
            "ATR5m 0.0003",
            "price near liquidity pocket"
          ],
          "score_threshold": 70.0,
          "score_ready": false,
          "trigger_state": "standby",
          "trigger_ready": false,
          "trigger_levels": {
            "window_low": 1.1600657714285714,
            "window_high": 1.160288457142857,
            "fire": 1.16014,
            "arm": 1.1600657714285714,
            "disarm": 1.160288457142857
          },
          "ready_ts": "2025-10-23T08:15:00Z",
          "order_flow_ready": false,
          "order_flow_strength": 0.0,
          "microstructure_score": 62.0,
          "trigger_progress": 0.7,
          "trigger_confidence": 0.44,
          "trigger_reasons": [
            "price near window"
          ],
          "context": {
            "intraday_profile": {
              "range_state": "expansion",
              "range_position": 0.4832146490335955,
              "range_vs_atr": 6.356581986142984
            }
          }
        },
        "precision_trigger": {
          "state": "standby",
          "ready_ts": "2025-10-23T08:15:00Z",
          "entry_window": [
            1.1600657714285714,
            1.160288457142857
          ],
          "trigger_levels": {
            "window_low": 1.1600657714285714,
            "window_high": 1.160288457142857,
            "fire": 1.16014,
            "arm": 1.1600657714285714,
            "disarm": 1.160288457142857
          },
          "score": 62.0,
          "score_threshold": 70.0,
          "score_ready": false,
          "trigger_ready": false,
          "order_flow_ready": false,
          "order_flow_strength": 0.0,
          "trigger_progress": 0.7,
          "trigger_confidence": 0.44,
          "reasons": [
            "price near window"
          ]
        },
        "action_plan": {
          "status": "standby",
          "priority": "low",
          "summary": "Nincs belépő – dolgozd le a hiányzó feltételeket.",
          "steps": [
            {
              "order": 1,
              "category": "precision_trigger",
              "instruction": "Precision trigger: standby",
              "source": "execution_playbook",
              "entry_window": [
                1.1600657714285714,
                1.160288457142857
              ],
              "trigger_levels": {
                "window_low": 1.1600657714285714,
                "window_high": 1.160288457142857,
                "fire": 1.16014,
                "arm": 1.1600657714285714,
                "disarm": 1.160288457142857
              }
            }
          ],
          "blockers": [
            "Trend filter nem támogatja az irányt.",
            "Precision score érje el a 70 szintet.",
            "Precision belépő: order flow megerősítés hiányzik.",
            "Precision belépő: trigger szinkronra vár."
          ],
          "blockers_raw": [
            "regime",
            "precision_score>=70",
            "precision_flow_alignment",
            "precision_trigger_sync"
          ],
          "notes": [
            "Range expanzió >1.5×ATR — agresszív menedzsment indokolt.",
            "Összesített valószínűség: 73%.",
            "Ajánlott tőkeáttétel: ×30.0.",
            "Precision score: 62.00 / küszöb 70.",
            "Precision confidence: medium.",
            "Precision trigger állapot: standby.",
            "Bias(4H→1H)=short (+15.0)",
            "Regime filter inaktív",
            "5M BOS trendirányba (+16.0)",
            "ATR erősség 1.07× küszöb (+11.4)",
            "Alacsony realised vol → magasabb RR igény",
            "Range expanzió támogatja a momentumot (+3.0)"
          ],
          "context": {
            "asset": "EURUSD",
            "decision": "no entry",
            "probability": 73,
            "session_open": true,
            "session_entry_open": true,
            "session_status": "open",
            "intraday_profile": {
              "range_state": "expansion",
              "range_position": 0.4832146490335955,
              "range_vs_atr": 6.356581986142984,
              "range_guard": {
                "long": false,
                "short": false
              },
              "opening_break": "none"
            },
            "precision_state": "standby",
            "precision_direction": "sell"
          }
        },
        "execution_playbook": [
          {
            "step": "precision_trigger",
            "state": "standby",
            "description": "Precision trigger: standby",
            "entry_window": [
              1.1600657714285714,
              1.160288457142857
            ],
            "trigger_levels": {
              "window_low": 1.1600657714285714,
              "window_high": 1.160288457142857,
              "fire": 1.16014,
              "arm": 1.1600657714285714,
              "disarm": 1.160288457142857
            },
            "ready_ts": "2025-10-23T08:15:00Z",
            "score": 62.0,
            "score_threshold": 70.0,
            "score_ready": false,
            "trigger_ready": false,
            "order_flow_ready": false,
            "order_flow_strength": 0.0,
            "trigger_progress": 0.7,
            "trigger_confidence": 0.44,
            "reasons": [
              "price near window"
            ]
          }
        ]
      }
    },
    "GOLD_CFD": {
      "asset": "GOLD_CFD",
      "ok": true,
      "retrieved_at_utc": "2025-10-23T08:19:58Z",
      "source": "Twelve Data (lokális JSON)",
      "spot": {
        "price": 4110.71,
        "utc": "2025-10-23T08:18:16+00:00",
        "retrieved_at_utc": "2025-10-23T08:18:16+00:00",
        "source": "twelvedata:quote",
        "realtime_override": false,
        "fallback_used": false,
        "confidence": 1.0,
        "avg_latency_profile": 268.0003254431154,
        "realtime_stats": {
          "samples": 3,
          "min_price": 4116.16,
          "max_price": 4116.16,
          "mean_price": 4116.16,
          "latency_avg": 0.0,
          "latency_max": 0.0,
          "latency_median": 0.0,
          "latency_latest": 0.0
        }
      },
      "signal": "no entry",
      "probability": 12,
      "probability_raw": 16,
      "entry": null,
      "sl": null,
      "tp1": null,
      "tp2": null,
      "rr": null,
      "leverage": 20,
      "stale_timeframes": {
        "k1m": false,
        "k5m": false,
        "k1h": false,
        "k4h": false
      },
      "biases": {
        "raw_4h": "neutral",
        "raw_1h": "neutral",
        "adjusted_4h": "neutral",
        "adjusted_1h": "neutral"
      },
      "gates": {
        "mode": "momentum",
        "required": [
          "session",
          "regime",
          "bias",
          "momentum_trigger",
          "bos5m",
          "atr",
          "liquidity",
          "rr_math>=1.9",
          "tp_min_profit",
          "min_stoploss",
          "tp1_net>=+100%",
          "intraday_range_guard"
        ],
        "missing": [
          "regime",
          "bias",
          "liquidity"
        ]
      },
      "session_info": {
        "open": true,
        "entry_open": true,
        "within_window": true,
        "within_entry_window": true,
        "within_monitor_window": true,
        "weekday_ok": true,
        "now_utc": "2025-10-23T08:19:58.654907+00:00",
        "windows_utc": [
          [
            0,
            0,
            23,
            59
          ]
        ],
        "time_zone": "Europe/Berlin",
        "windows_local_cet": [
          [
            "02:00",
            "01:59"
          ]
        ],
        "status": "open",
        "status_note": "Piac nyitva"
      },
      "diagnostics": {
        "timeframes": {
          "k1m": {
            "last_raw_utc": "2025-10-23T08:16:00Z",
            "last_closed_utc": "2025-10-23T08:16:00Z",
            "latency_seconds": 238,
            "expected_max_delay_seconds": 180,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 420.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "XAU/USD",
            "used_exchange": null
          },
          "k5m": {
            "last_raw_utc": "2025-10-23T08:15:00Z",
            "last_closed_utc": "2025-10-23T08:15:00Z",
            "latency_seconds": 298,
            "expected_max_delay_seconds": 300,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 1200.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "XAU/USD",
            "used_exchange": null
          },
          "k1h": {
            "last_raw_utc": "2025-10-23T08:00:00Z",
            "last_closed_utc": "2025-10-23T08:00:00Z",
            "latency_seconds": 1198,
            "expected_max_delay_seconds": 3600,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 9000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "XAU/USD",
            "used_exchange": null
          },
          "k4h": {
            "last_raw_utc": "2025-10-23T08:00:00Z",
            "last_closed_utc": "2025-10-23T08:00:00Z",
            "latency_seconds": 1198,
            "expected_max_delay_seconds": 14400,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 36000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "XAU/USD",
            "used_exchange": null
          },
          "spot": {
            "last_raw_utc": "2025-10-23T08:18:16Z",
            "latency_seconds": 102,
            "expected_max_delay_seconds": 900,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "source": "twelvedata:quote",
            "fallback_used": false,
            "realtime_override": false,
            "freshness_limit_seconds": 900.0,
            "freshness_retries": 0,
            "freshness_violation": false,
            "freshness_violation_meta": false,
            "used_symbol": "XAU/USD",
            "used_exchange": null
          }
        },
        "source_files": {
          "spot.json": "2025-10-23T08:19:31Z",
          "klines_1m.json": "2025-10-23T08:19:31Z",
          "klines_5m.json": "2025-10-23T08:19:31Z",
          "klines_1h.json": "2025-10-23T08:19:31Z",
          "klines_4h.json": "2025-10-23T08:19:31Z"
        },
        "latency_flags": [],
        "refresh_tips": [
          "Az analysis.py mindig a legutóbbi ZÁRT gyertyával számol (5m: max. ~5 perc késés).",
          "CI/CD-ben kösd össze a Trading és Analysis futást: az analysis job csak a trading után induljon (needs: trading).",
          "A kliens kéréséhez adj cache-busting query paramot (pl. ?v=<timestamp>) és no-store cache-control fejlécet.",
          "Cloudflare Worker stale policy: 5m feedre állítsd 120s-re, hogy hamar átjöjjön az új jel.",
          "A dashboard stabilizáló (2 azonos jel + 10 perc cooldown) lassíthatja a kártya frissítését — lazítsd, ha realtime kell.",
          "Hiányzó ML modellek: EURUSD, GOLD_CFD, NVDA, SRTY, USDJPY, USOIL – töltsd fel a public/models/<asset>_gbm.pkl fájlokat a valószínűségi score aktiválásához."
        ]
      },
      "reasons": [
        "Bias neutrálsávban",
        "Regime filter inaktív",
        "ATR nincs rendben (relatív vagy abszolút küszöb)",
        "Fib zóna konfluencia (0.618–0.886) (+18.0)",
        "Anchor trail drift romlik (−5)",
        "Pozíciómenedzsment: aktív long pozíció invalidálódott → hard exit szükséges (stop-loss zóna sérült) (aktív long pozíció, nyitva: 2025-10-20 20:23 helyi idő; 1h ATR ≈ 25.7)",
        "ML fallback: scikit-learn hiányzik — heurisztikus pontozás aktív",
        "missing: regime, bias, liquidity"
      ],
      "realtime_transport": "http",
      "probability_model_source": "fallback",
      "probability_fallback": {
        "base_probability": 0.16,
        "adjusted_logit": -2.8287280766035328,
        "probability": 0.055791363338861255,
        "threshold": 0.59,
        "steps": [
          {
            "feature": "bias_neutral_penalty",
            "weight": -0.55,
            "normalized": 1.0,
            "delta": -0.55
          },
          {
            "feature": "rel_atr",
            "weight": 0.35,
            "normalized": 1.0,
            "delta": 0.35
          },
          {
            "feature": "momentum_vol_ratio",
            "weight": 0.35,
            "normalized": -1.0,
            "delta": -0.35
          },
          {
            "feature": "news_event_severity",
            "weight": 0.25,
            "normalized": -0.5,
            "delta": -0.125
          },
          {
            "feature": "realtime_confidence",
            "weight": 0.9,
            "normalized": 0.6000000000000001,
            "delta": 0.5400000000000001
          },
          {
            "feature": "precision_score",
            "weight": 0.35,
            "normalized": -1.2,
            "delta": -0.42
          },
          {
            "feature": "precision_trigger_confidence",
            "weight": 0.55,
            "normalized": -0.77,
            "delta": -0.42350000000000004
          },
          {
            "feature": "momentum_trail_lock_ratio",
            "weight": 0.4,
            "normalized": -0.48,
            "delta": -0.192
          }
        ],
        "reason": "sklearn_missing"
      },
      "probability_model": 0.055791363338861255,
      "probability_model_raw": 0.16,
      "probability_calibrated": 0.055791363338861255,
      "probability_threshold": 0.59,
      "probability_stack": {
        "asset": "GOLD_CFD",
        "unavailable_reason": "sklearn_missing",
        "source": "fallback",
        "fallback": {
          "base_probability": 0.16,
          "adjusted_logit": -2.8287280766035328,
          "probability": 0.055791363338861255,
          "threshold": 0.59,
          "steps": [
            {
              "feature": "bias_neutral_penalty",
              "weight": -0.55,
              "normalized": 1.0,
              "delta": -0.55
            },
            {
              "feature": "rel_atr",
              "weight": 0.35,
              "normalized": 1.0,
              "delta": 0.35
            },
            {
              "feature": "momentum_vol_ratio",
              "weight": 0.35,
              "normalized": -1.0,
              "delta": -0.35
            },
            {
              "feature": "news_event_severity",
              "weight": 0.25,
              "normalized": -0.5,
              "delta": -0.125
            },
            {
              "feature": "realtime_confidence",
              "weight": 0.9,
              "normalized": 0.6000000000000001,
              "delta": 0.5400000000000001
            },
            {
              "feature": "precision_score",
              "weight": 0.35,
              "normalized": -1.2,
              "delta": -0.42
            },
            {
              "feature": "precision_trigger_confidence",
              "weight": 0.55,
              "normalized": -0.77,
              "delta": -0.42350000000000004
            },
            {
              "feature": "momentum_trail_lock_ratio",
              "weight": 0.4,
              "normalized": -0.48,
              "delta": -0.192
            }
          ],
          "reason": "sklearn_missing"
        }
      },
      "ema21_slope_1h": 0.00046921754170837024,
      "ema21_slope_threshold": 0.03,
      "ema21_relation_1h": "above",
      "last_swing_high_1h": 4097.24,
      "last_swing_low_1h": 4085.35,
      "last_close_1h": 4110.71,
      "bos_5m_dir": "bos_up",
      "atr1h": 25.7378571428573,
      "momentum_volume_ratio": null,
      "momentum_liquidity_ok": false,
      "dynamic_tp_profile": {
        "core": {
          "tp1": 2.07,
          "tp2": 3.2399999999999998,
          "rr": 2.3100000000000005
        },
        "momentum": {
          "tp1": 1.6500000000000001,
          "tp2": 2.76,
          "rr": 1.8900000000000001
        },
        "regime": "compressed",
        "reference": {
          "current": 14.565714285714389,
          "q20": 5.681714285714316,
          "q50": 7.238571428571374,
          "q80": 12.09228571428567
        }
      },
      "order_flow_metrics": {
        "imbalance": null,
        "pressure": 0.0,
        "delta_volume": 0.0,
        "aggressor_ratio": null
      },
      "intraday_profile": {
        "asset": "GOLD_CFD",
        "timestamp": "2025-10-23T08:19:58Z",
        "day_start_utc": "2025-10-22T22:00:00Z",
        "day_open": 4094.94,
        "day_high": 4134.91,
        "day_low": 4057.14,
        "day_range": 77.76999999999998,
        "range_vs_atr": 5.3392506865437035,
        "range_position": 0.6888260254596911,
        "range_bias": "upper",
        "range_state": "expansion",
        "range_compression": false,
        "range_expansion": true,
        "range_exhaustion_long": false,
        "range_exhaustion_short": false,
        "range_guard": {
          "long": false,
          "short": false
        },
        "opening_range_high": null,
        "opening_range_low": null,
        "opening_break": "none",
        "opening_range_minutes": 45,
        "opening_drive_ratio": null,
        "price_reference": 4110.71,
        "elapsed_minutes": 619,
        "notes": [
          "Range expanzió >1.5×ATR — agresszív menedzsment indokolt."
        ]
      },
      "volatility_overlay": {
        "implied_vol": null,
        "realised_vol": 0.0008490187960948336,
        "realised_window_minutes": 120,
        "regime": "historical",
        "premium": null,
        "source_path": null,
        "implied_realised_ratio": null
      },
      "invalid_levels": {
        "buy": 4072.4810714285713,
        "sell": 4110.108928571429
      },
      "invalid_buffer_abs": 12.86892857142865,
      "position_management": "Pozíciómenedzsment: aktív long pozíció invalidálódott → hard exit szükséges (stop-loss zóna sérült) (aktív long pozíció, nyitva: 2025-10-20 20:23 helyi idő; 1h ATR ≈ 25.7)",
      "position_exit_signal": {
        "state": "hard_exit",
        "severity": "critical",
        "action": "close",
        "reasons": [
          "stop-loss zóna sérült"
        ],
        "trigger_price": 4110.71,
        "triggered_at": "2025-10-23T08:19:58Z",
        "actions": [
          {
            "type": "close",
            "size": 1.0,
            "urgency": "immediate"
          }
        ],
        "category": "structural_invalid",
        "entry_price": 4346.56,
        "stop_loss": 4303.0944,
        "direction": "long"
      },
      "action_plan": {
        "status": "manage_position",
        "priority": "high",
        "summary": "Kritikus jelzés: hard exit (long)",
        "steps": [
          {
            "order": 1,
            "category": "exit",
            "instruction": "Zárd a teljes pozíciót (sürgősség: azonnal)",
            "source": "position_exit_signal",
            "type": "close",
            "size": 1.0,
            "urgency": "immediate"
          }
        ],
        "blockers": [
          "Trend filter nem támogatja az irányt.",
          "Nincs egyértelmű bias – várj megerősítésre.",
          "Forgalmi feltételek nem teljesültek – várj nagyobb volumenre."
        ],
        "blockers_raw": [
          "regime",
          "bias",
          "liquidity"
        ],
        "notes": [
          "Range expanzió >1.5×ATR — agresszív menedzsment indokolt.",
          "Összesített valószínűség: 12%.",
          "Ajánlott tőkeáttétel: ×20.0.",
          "Pozíciómenedzsment: aktív long pozíció invalidálódott → hard exit szükséges (stop-loss zóna sérült) (aktív long pozíció, nyitva: 2025-10-20 20:23 helyi idő; 1h ATR ≈ 25.7)",
          "Bias neutrálsávban",
          "Regime filter inaktív",
          "ATR nincs rendben (relatív vagy abszolút küszöb)",
          "Fib zóna konfluencia (0.618–0.886) (+18.0)",
          "Anchor trail drift romlik (−5)",
          "stop-loss zóna sérült"
        ],
        "context": {
          "asset": "GOLD_CFD",
          "decision": "no entry",
          "probability": 12,
          "session_open": true,
          "session_entry_open": true,
          "session_status": "open",
          "intraday_profile": {
            "range_state": "expansion",
            "range_position": 0.6888260254596911,
            "range_vs_atr": 5.3392506865437035,
            "range_guard": {
              "long": false,
              "short": false
            },
            "opening_break": "none"
          }
        }
      },
      "active_position_meta": {
        "ema21_slope_abs": 0.00046921754170837024,
        "ema21_slope_signed": 0.00046921754170837024,
        "ema21_slope_threshold": 0.03,
        "ema21_relation": "above",
        "structure_5m": "bos_up",
        "stale_timeframes": {
          "k1m": false,
          "k5m": false,
          "k1h": false,
          "k4h": false
        },
        "atr1h": 25.7378571428573,
        "atr1h_trail_floor": 12.86892857142865,
        "atr5": 14.565714285714389,
        "atr5_rel": 0.0035433572997643687,
        "atr5_threshold": 0.25,
        "bos1h_long": true,
        "bos1h_short": false,
        "regime_ok": false,
        "effective_bias": "neutral",
        "last_close_1h": 4110.71,
        "last_swing_high_1h": 4097.24,
        "last_swing_low_1h": 4085.35,
        "invalid_level_sell": 4110.108928571429,
        "invalid_level_buy": 4072.4810714285713,
        "invalid_buffer_abs": 12.86892857142865,
        "p_score": 16,
        "probability_calibrated": 0.055791363338861255,
        "probability_threshold": 0.59,
        "probability_model_raw": 0.16,
        "probability_model_source": "fallback",
        "tp_profile": {
          "tp1_r": 2.07,
          "tp2_r": 3.2399999999999998
        },
        "realtime_confidence": 1.0,
        "avg_latency_profile": 268.0003254431154,
        "probability_fallback": {
          "base_probability": 0.16,
          "adjusted_logit": -2.8287280766035328,
          "probability": 0.055791363338861255,
          "threshold": 0.59,
          "steps": [
            {
              "feature": "bias_neutral_penalty",
              "weight": -0.55,
              "normalized": 1.0,
              "delta": -0.55
            },
            {
              "feature": "rel_atr",
              "weight": 0.35,
              "normalized": 1.0,
              "delta": 0.35
            },
            {
              "feature": "momentum_vol_ratio",
              "weight": 0.35,
              "normalized": -1.0,
              "delta": -0.35
            },
            {
              "feature": "news_event_severity",
              "weight": 0.25,
              "normalized": -0.5,
              "delta": -0.125
            },
            {
              "feature": "realtime_confidence",
              "weight": 0.9,
              "normalized": 0.6000000000000001,
              "delta": 0.5400000000000001
            },
            {
              "feature": "precision_score",
              "weight": 0.35,
              "normalized": -1.2,
              "delta": -0.42
            },
            {
              "feature": "precision_trigger_confidence",
              "weight": 0.55,
              "normalized": -0.77,
              "delta": -0.42350000000000004
            },
            {
              "feature": "momentum_trail_lock_ratio",
              "weight": 0.4,
              "normalized": -0.48,
              "delta": -0.192
            }
          ],
          "reason": "sklearn_missing"
        },
        "realtime_stats": {
          "samples": 3,
          "min_price": 4116.16,
          "max_price": 4116.16,
          "mean_price": 4116.16,
          "latency_avg": 0.0,
          "latency_max": 0.0,
          "latency_median": 0.0,
          "latency_latest": 0.0
        },
        "anchor_side": "long",
        "anchor_price": 4346.56,
        "anchor_timestamp": "2025-10-20T18:23:38Z",
        "previous_p_score": 16.0,
        "anchor_drift_state": "deteriorating",
        "anchor_drift_score": -1.5895466759920325,
        "action_plan": {
          "status": "manage_position",
          "priority": "high",
          "summary": "Kritikus jelzés: hard exit (long)",
          "steps": [
            {
              "order": 1,
              "category": "exit",
              "instruction": "Zárd a teljes pozíciót (sürgősség: azonnal)",
              "source": "position_exit_signal",
              "type": "close",
              "size": 1.0,
              "urgency": "immediate"
            }
          ],
          "blockers": [
            "Trend filter nem támogatja az irányt.",
            "Nincs egyértelmű bias – várj megerősítésre.",
            "Forgalmi feltételek nem teljesültek – várj nagyobb volumenre."
          ],
          "blockers_raw": [
            "regime",
            "bias",
            "liquidity"
          ],
          "notes": [
            "Range expanzió >1.5×ATR — agresszív menedzsment indokolt.",
            "Összesített valószínűség: 12%.",
            "Ajánlott tőkeáttétel: ×20.0.",
            "Pozíciómenedzsment: aktív long pozíció invalidálódott → hard exit szükséges (stop-loss zóna sérült) (aktív long pozíció, nyitva: 2025-10-20 20:23 helyi idő; 1h ATR ≈ 25.7)",
            "Bias neutrálsávban",
            "Regime filter inaktív",
            "ATR nincs rendben (relatív vagy abszolút küszöb)",
            "Fib zóna konfluencia (0.618–0.886) (+18.0)",
            "Anchor trail drift romlik (−5)",
            "stop-loss zóna sérült"
          ],
          "context": {
            "asset": "GOLD_CFD",
            "decision": "no entry",
            "probability": 12,
            "session_open": true,
            "session_entry_open": true,
            "session_status": "open",
            "intraday_profile": {
              "range_state": "expansion",
              "range_position": 0.6888260254596911,
              "range_vs_atr": 5.3392506865437035,
              "range_guard": {
                "long": false,
                "short": false
              },
              "opening_break": "none"
            }
          }
        },
        "exit_signal": {
          "state": "hard_exit",
          "severity": "critical",
          "action": "close",
          "reasons": [
            "stop-loss zóna sérült"
          ],
          "trigger_price": 4110.71,
          "triggered_at": "2025-10-23T08:19:58Z",
          "actions": [
            {
              "type": "close",
              "size": 1.0,
              "urgency": "immediate"
            }
          ],
          "category": "structural_invalid",
          "entry_price": 4346.56,
          "stop_loss": 4303.0944,
          "direction": "long"
        }
      }
    },
    "NVDA": {
      "asset": "NVDA",
      "ok": true,
      "retrieved_at_utc": "2025-10-23T08:19:59Z",
      "source": "Twelve Data (lokális JSON)",
      "spot": {
        "price": 180.28,
        "utc": "2025-10-23T08:18:19+00:00",
        "retrieved_at_utc": "2025-10-23T08:18:19+00:00",
        "source": "twelvedata:quote",
        "realtime_override": false,
        "fallback_used": false,
        "confidence": 1.0,
        "avg_latency_profile": 307.18622898984705,
        "realtime_stats": {
          "samples": 3,
          "min_price": 180.28,
          "max_price": 180.28,
          "mean_price": 180.28,
          "latency_avg": 0.0,
          "latency_max": 0.0,
          "latency_median": 0.0,
          "latency_latest": 0.0
        }
      },
      "signal": "market closed",
      "probability": 1,
      "probability_raw": 0,
      "entry": null,
      "sl": null,
      "tp1": null,
      "tp2": null,
      "rr": null,
      "leverage": 5,
      "stale_timeframes": {
        "k1m": true,
        "k5m": true,
        "k1h": true,
        "k4h": true
      },
      "biases": {
        "raw_4h": "neutral",
        "raw_1h": "neutral",
        "adjusted_4h": "neutral",
        "adjusted_1h": "neutral"
      },
      "gates": {
        "mode": "session_closed",
        "required": [
          "session"
        ],
        "missing": [
          "session",
          "regime",
          "bias",
          "liquidity",
          "order_flow"
        ]
      },
      "session_info": {
        "open": false,
        "entry_open": false,
        "within_window": false,
        "within_entry_window": false,
        "within_monitor_window": false,
        "weekday_ok": true,
        "now_utc": "2025-10-23T08:19:59.334583+00:00",
        "windows_utc": [
          [
            13,
            30,
            20,
            0
          ]
        ],
        "monitor_windows_utc": [
          [
            13,
            0,
            22,
            0
          ]
        ],
        "time_zone": "Europe/Berlin",
        "windows_local_cet": [
          [
            "15:30",
            "22:00"
          ]
        ],
        "monitor_windows_local_cet": [
          [
            "15:00",
            "00:00"
          ]
        ],
        "status": "closed_out_of_hours",
        "status_note": "Piac zárva (nyitáson kívül)",
        "next_open_utc": "2025-10-23T13:30:00+00:00",
        "notes": [
          "Cash sessionen kívül — ATR nem elég magas a kereskedéshez"
        ]
      },
      "diagnostics": {
        "timeframes": {
          "k1m": {
            "last_raw_utc": "2025-10-22T19:59:00Z",
            "last_closed_utc": "2025-10-22T19:59:00Z",
            "latency_seconds": 44459,
            "expected_max_delay_seconds": 180,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 420.0,
            "freshness_violation": true,
            "freshness_retries": 1,
            "used_symbol": "NVDA",
            "used_exchange": "NASDAQ"
          },
          "k5m": {
            "last_raw_utc": "2025-10-22T19:55:00Z",
            "last_closed_utc": "2025-10-22T19:55:00Z",
            "latency_seconds": 44699,
            "expected_max_delay_seconds": 300,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 1200.0,
            "freshness_violation": true,
            "freshness_retries": 1,
            "used_symbol": "NVDA",
            "used_exchange": "NASDAQ"
          },
          "k1h": {
            "last_raw_utc": "2025-10-22T19:30:00Z",
            "last_closed_utc": "2025-10-22T19:30:00Z",
            "latency_seconds": 46199,
            "expected_max_delay_seconds": 3600,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 9000.0,
            "freshness_violation": true,
            "freshness_retries": 1,
            "used_symbol": "NVDA",
            "used_exchange": "NASDAQ"
          },
          "k4h": {
            "last_raw_utc": "2025-10-22T17:30:00Z",
            "last_closed_utc": "2025-10-22T17:30:00Z",
            "latency_seconds": 53399,
            "expected_max_delay_seconds": 14400,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": true,
            "freshness_limit_seconds": 36000.0,
            "freshness_violation": true,
            "freshness_retries": 1,
            "used_symbol": "NVDA",
            "used_exchange": "NASDAQ"
          },
          "spot": {
            "last_raw_utc": "2025-10-23T08:18:19Z",
            "latency_seconds": 100,
            "expected_max_delay_seconds": 600,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "source": "twelvedata:quote",
            "fallback_used": false,
            "realtime_override": false,
            "freshness_limit_seconds": 900.0,
            "freshness_retries": 0,
            "freshness_violation": false,
            "freshness_violation_meta": false,
            "used_symbol": "NVDA",
            "used_exchange": "NASDAQ"
          }
        },
        "source_files": {
          "spot.json": "2025-10-23T08:19:31Z",
          "klines_1m.json": "2025-10-23T08:19:31Z",
          "klines_5m.json": "2025-10-23T08:19:31Z",
          "klines_1h.json": "2025-10-23T08:19:31Z",
          "klines_4h.json": "2025-10-23T08:19:31Z"
        },
        "latency_flags": [
          "k1m: utolsó zárt gyertya 740 perc késésben van",
          "k1m: jelzés korlátozva 740 perc késés miatt",
          "k5m: utolsó zárt gyertya 744 perc késésben van",
          "k5m: jelzés korlátozva 744 perc késés miatt",
          "k1h: utolsó zárt gyertya 769 perc késésben van",
          "k1h: jelzés korlátozva 769 perc késés miatt",
          "k4h: utolsó zárt gyertya 889 perc késésben van",
          "k4h: jelzés korlátozva 889 perc késés miatt"
        ],
        "refresh_tips": [
          "Az analysis.py mindig a legutóbbi ZÁRT gyertyával számol (5m: max. ~5 perc késés).",
          "CI/CD-ben kösd össze a Trading és Analysis futást: az analysis job csak a trading után induljon (needs: trading).",
          "A kliens kéréséhez adj cache-busting query paramot (pl. ?v=<timestamp>) és no-store cache-control fejlécet.",
          "Cloudflare Worker stale policy: 5m feedre állítsd 120s-re, hogy hamar átjöjjön az új jel.",
          "A dashboard stabilizáló (2 azonos jel + 10 perc cooldown) lassíthatja a kártya frissítését — lazítsd, ha realtime kell.",
          "Hiányzó ML modellek: EURUSD, GOLD_CFD, NVDA, SRTY, USDJPY, USOIL – töltsd fel a public/models/<asset>_gbm.pkl fájlokat a valószínűségi score aktiválásához."
        ]
      },
      "reasons": [
        "Piac zárva (nyitáson kívül)",
        "Bias neutrálsávban",
        "Regime filter inaktív",
        "ATR nincs rendben (relatív vagy abszolút küszöb)",
        "Fib zóna konfluencia (0.618–0.886) (+18.0)",
        "Order flow neutrális (−2.9)",
        "5m adat késés — momentum pontok csökkentve",
        "HTF adat késés — trend pontok csökkentve",
        "Diagnosztika: k1m: utolsó zárt gyertya 740 perc késésben van",
        "Diagnosztika: k1m: jelzés korlátozva 740 perc késés miatt",
        "Diagnosztika: k5m: utolsó zárt gyertya 744 perc késésben van",
        "Diagnosztika: k5m: jelzés korlátozva 744 perc késés miatt",
        "Diagnosztika: k1h: utolsó zárt gyertya 769 perc késésben van",
        "Diagnosztika: k1h: jelzés korlátozva 769 perc késés miatt",
        "Diagnosztika: k4h: utolsó zárt gyertya 889 perc késésben van",
        "Diagnosztika: k4h: jelzés korlátozva 889 perc késés miatt",
        "ML fallback: scikit-learn hiányzik — heurisztikus pontozás aktív",
        "missing: session, regime, bias, liquidity, order_flow"
      ],
      "realtime_transport": "http",
      "probability_model_source": "fallback",
      "probability_fallback": {
        "base_probability": 0.05,
        "adjusted_logit": -3.6853723014068662,
        "probability": 0.024473837214318173,
        "threshold": 0.6,
        "steps": [
          {
            "feature": "bias_neutral_penalty",
            "weight": -0.55,
            "normalized": 1.0,
            "delta": -0.55
          },
          {
            "feature": "rel_atr",
            "weight": 0.35,
            "normalized": 0.8608165076547512,
            "delta": 0.30128577767916287
          },
          {
            "feature": "momentum_vol_ratio",
            "weight": 0.35,
            "normalized": 0.366516857372603,
            "delta": 0.12828090008041104
          },
          {
            "feature": "news_event_severity",
            "weight": 0.25,
            "normalized": -0.5,
            "delta": -0.125
          },
          {
            "feature": "realtime_confidence",
            "weight": 0.9,
            "normalized": 0.6000000000000001,
            "delta": 0.5400000000000001
          },
          {
            "feature": "precision_score",
            "weight": 0.35,
            "normalized": -1.2,
            "delta": -0.42
          },
          {
            "feature": "precision_trigger_confidence",
            "weight": 0.55,
            "normalized": -0.77,
            "delta": -0.42350000000000004
          },
          {
            "feature": "momentum_trail_lock_ratio",
            "weight": 0.4,
            "normalized": -0.48,
            "delta": -0.192
          }
        ],
        "reason": "sklearn_missing"
      },
      "probability_model": 0.024473837214318173,
      "probability_model_raw": 0.05,
      "probability_calibrated": 0.024473837214318173,
      "probability_threshold": 0.6,
      "probability_stack": {
        "asset": "NVDA",
        "unavailable_reason": "sklearn_missing",
        "source": "fallback",
        "fallback": {
          "base_probability": 0.05,
          "adjusted_logit": -3.6853723014068662,
          "probability": 0.024473837214318173,
          "threshold": 0.6,
          "steps": [
            {
              "feature": "bias_neutral_penalty",
              "weight": -0.55,
              "normalized": 1.0,
              "delta": -0.55
            },
            {
              "feature": "rel_atr",
              "weight": 0.35,
              "normalized": 0.8608165076547512,
              "delta": 0.30128577767916287
            },
            {
              "feature": "momentum_vol_ratio",
              "weight": 0.35,
              "normalized": 0.366516857372603,
              "delta": 0.12828090008041104
            },
            {
              "feature": "news_event_severity",
              "weight": 0.25,
              "normalized": -0.5,
              "delta": -0.125
            },
            {
              "feature": "realtime_confidence",
              "weight": 0.9,
              "normalized": 0.6000000000000001,
              "delta": 0.5400000000000001
            },
            {
              "feature": "precision_score",
              "weight": 0.35,
              "normalized": -1.2,
              "delta": -0.42
            },
            {
              "feature": "precision_trigger_confidence",
              "weight": 0.55,
              "normalized": -0.77,
              "delta": -0.42350000000000004
            },
            {
              "feature": "momentum_trail_lock_ratio",
              "weight": 0.4,
              "normalized": -0.48,
              "delta": -0.192
            }
          ],
          "reason": "sklearn_missing"
        }
      },
      "ema21_slope_1h": -0.011002041065915636,
      "ema21_slope_threshold": 0.04,
      "ema21_relation_1h": "stale",
      "last_swing_high_1h": 179.438797,
      "last_swing_low_1h": 181.060104,
      "last_close_1h": 180.289993,
      "bos_5m_dir": "range",
      "atr1h": 1.6730388571428523,
      "momentum_volume_ratio": 1.366516857372603,
      "momentum_liquidity_ok": false,
      "dynamic_tp_profile": {
        "core": {
          "tp1": 1.8,
          "tp2": 2.7,
          "rr": 2.3
        },
        "momentum": {
          "tp1": 1.5,
          "tp2": 2.4,
          "rr": 1.9
        },
        "regime": "compressed",
        "reference": {
          "current": 0.3824879999999971,
          "q20": 0.3246176428571435,
          "q50": 0.5229699285714295,
          "q80": 0.652305342857142
        }
      },
      "order_flow_metrics": {
        "imbalance": 0.25490224236515885,
        "pressure": 0.0016388027080216183,
        "delta_volume": 8839541.0,
        "aggressor_ratio": null
      },
      "intraday_profile": {
        "asset": "NVDA",
        "timestamp": "2025-10-23T08:19:59Z",
        "day_start_utc": "2025-10-22T22:00:00Z",
        "day_open": 181.320007,
        "day_high": 183.440002,
        "day_low": 176.77,
        "day_range": 6.6700019999999824,
        "range_vs_atr": 17.43846081445701,
        "range_position": 0.5262367237670993,
        "range_bias": "balanced",
        "range_state": "expansion",
        "range_compression": false,
        "range_expansion": true,
        "range_exhaustion_long": false,
        "range_exhaustion_short": false,
        "range_guard": {
          "long": false,
          "short": false
        },
        "opening_range_high": null,
        "opening_range_low": null,
        "opening_break": "none",
        "opening_range_minutes": 45,
        "opening_drive_ratio": null,
        "price_reference": 180.28,
        "elapsed_minutes": 619,
        "notes": [
          "Range expanzió >1.5×ATR — agresszív menedzsment indokolt."
        ]
      },
      "volatility_overlay": {
        "implied_vol": null,
        "realised_vol": 0.0006454959540907909,
        "realised_window_minutes": 120,
        "regime": "historical",
        "premium": null,
        "source_path": null,
        "implied_realised_ratio": null
      },
      "invalid_levels": {
        "buy": 180.22358457142857,
        "sell": 180.27531642857141
      },
      "invalid_buffer_abs": 0.8365194285714261,
      "action_plan": {
        "status": "standby",
        "priority": "low",
        "summary": "Állapot: market closed",
        "steps": [],
        "blockers": [
          "Piac zárva – várj a kereskedési ablakra.",
          "Trend filter nem támogatja az irányt.",
          "Nincs egyértelmű bias – várj megerősítésre.",
          "Forgalmi feltételek nem teljesültek – várj nagyobb volumenre.",
          "Order flow nincs összhangban a belépővel."
        ],
        "blockers_raw": [
          "session",
          "regime",
          "bias",
          "liquidity",
          "order_flow"
        ],
        "notes": [
          "Range expanzió >1.5×ATR — agresszív menedzsment indokolt.",
          "Összesített valószínűség: 1%.",
          "Ajánlott tőkeáttétel: ×5.0.",
          "Piac zárva (nyitáson kívül)",
          "Bias neutrálsávban",
          "Regime filter inaktív",
          "ATR nincs rendben (relatív vagy abszolút küszöb)",
          "Fib zóna konfluencia (0.618–0.886) (+18.0)",
          "Order flow neutrális (−2.9)"
        ],
        "context": {
          "asset": "NVDA",
          "decision": "market closed",
          "probability": 1,
          "session_open": false,
          "session_entry_open": false,
          "session_status": "closed_out_of_hours",
          "intraday_profile": {
            "range_state": "expansion",
            "range_position": 0.5262367237670993,
            "range_vs_atr": 17.43846081445701,
            "range_guard": {
              "long": false,
              "short": false
            },
            "opening_break": "none"
          },
          "next_session_open_utc": "2025-10-23T13:30:00+00:00"
        }
      },
      "active_position_meta": {
        "ema21_slope_abs": 0.011002041065915636,
        "ema21_slope_signed": -0.011002041065915636,
        "ema21_slope_threshold": 0.04,
        "ema21_relation": "stale",
        "structure_5m": "range",
        "stale_timeframes": {
          "k1m": true,
          "k5m": true,
          "k1h": true,
          "k4h": true
        },
        "atr1h": 1.6730388571428523,
        "atr1h_trail_floor": 0.8365194285714261,
        "atr5": 0.3824879999999971,
        "atr5_rel": 0.0021216330153095023,
        "atr5_threshold": 1.5,
        "bos1h_long": true,
        "bos1h_short": true,
        "regime_ok": false,
        "effective_bias": "neutral",
        "last_close_1h": 180.289993,
        "last_swing_high_1h": 179.438797,
        "last_swing_low_1h": 181.060104,
        "invalid_level_sell": 180.27531642857141,
        "invalid_level_buy": 180.22358457142857,
        "invalid_buffer_abs": 0.8365194285714261,
        "p_score": 0,
        "probability_calibrated": 0.024473837214318173,
        "probability_threshold": 0.6,
        "probability_model_raw": 0.05,
        "probability_model_source": "fallback",
        "tp_profile": {
          "tp1_r": 1.8,
          "tp2_r": 2.7
        },
        "realtime_confidence": 1.0,
        "avg_latency_profile": 307.18622898984705,
        "probability_fallback": {
          "base_probability": 0.05,
          "adjusted_logit": -3.6853723014068662,
          "probability": 0.024473837214318173,
          "threshold": 0.6,
          "steps": [
            {
              "feature": "bias_neutral_penalty",
              "weight": -0.55,
              "normalized": 1.0,
              "delta": -0.55
            },
            {
              "feature": "rel_atr",
              "weight": 0.35,
              "normalized": 0.8608165076547512,
              "delta": 0.30128577767916287
            },
            {
              "feature": "momentum_vol_ratio",
              "weight": 0.35,
              "normalized": 0.366516857372603,
              "delta": 0.12828090008041104
            },
            {
              "feature": "news_event_severity",
              "weight": 0.25,
              "normalized": -0.5,
              "delta": -0.125
            },
            {
              "feature": "realtime_confidence",
              "weight": 0.9,
              "normalized": 0.6000000000000001,
              "delta": 0.5400000000000001
            },
            {
              "feature": "precision_score",
              "weight": 0.35,
              "normalized": -1.2,
              "delta": -0.42
            },
            {
              "feature": "precision_trigger_confidence",
              "weight": 0.55,
              "normalized": -0.77,
              "delta": -0.42350000000000004
            },
            {
              "feature": "momentum_trail_lock_ratio",
              "weight": 0.4,
              "normalized": -0.48,
              "delta": -0.192
            }
          ],
          "reason": "sklearn_missing"
        },
        "realtime_stats": {
          "samples": 3,
          "min_price": 180.28,
          "max_price": 180.28,
          "mean_price": 180.28,
          "latency_avg": 0.0,
          "latency_max": 0.0,
          "latency_median": 0.0,
          "latency_latest": 0.0
        },
        "action_plan": {
          "status": "standby",
          "priority": "low",
          "summary": "Állapot: market closed",
          "steps": [],
          "blockers": [
            "Piac zárva – várj a kereskedési ablakra.",
            "Trend filter nem támogatja az irányt.",
            "Nincs egyértelmű bias – várj megerősítésre.",
            "Forgalmi feltételek nem teljesültek – várj nagyobb volumenre.",
            "Order flow nincs összhangban a belépővel."
          ],
          "blockers_raw": [
            "session",
            "regime",
            "bias",
            "liquidity",
            "order_flow"
          ],
          "notes": [
            "Range expanzió >1.5×ATR — agresszív menedzsment indokolt.",
            "Összesített valószínűség: 1%.",
            "Ajánlott tőkeáttétel: ×5.0.",
            "Piac zárva (nyitáson kívül)",
            "Bias neutrálsávban",
            "Regime filter inaktív",
            "ATR nincs rendben (relatív vagy abszolút küszöb)",
            "Fib zóna konfluencia (0.618–0.886) (+18.0)",
            "Order flow neutrális (−2.9)"
          ],
          "context": {
            "asset": "NVDA",
            "decision": "market closed",
            "probability": 1,
            "session_open": false,
            "session_entry_open": false,
            "session_status": "closed_out_of_hours",
            "intraday_profile": {
              "range_state": "expansion",
              "range_position": 0.5262367237670993,
              "range_vs_atr": 17.43846081445701,
              "range_guard": {
                "long": false,
                "short": false
              },
              "opening_break": "none"
            },
            "next_session_open_utc": "2025-10-23T13:30:00+00:00"
          }
        }
      }
    },
    "SRTY": {
      "asset": "SRTY",
      "ok": false,
      "retrieved_at_utc": "2025-10-23T08:19:59Z",
      "source": "Twelve Data (lokális JSON)",
      "spot": {
        "price": 11.43,
        "utc": "2025-10-23T06:05:01Z",
        "retrieved_at_utc": "2025-10-23T06:05:01+00:00"
      },
      "signal": "no entry",
      "probability": 0,
      "entry": null,
      "sl": null,
      "tp1": null,
      "tp2": null,
      "rr": null,
      "leverage": 3,
      "gates": {
        "mode": "data_gap",
        "required": [
          "data_integrity"
        ],
        "missing": [
          "data_integrity"
        ]
      },
      "session_info": {
        "open": null,
        "within_window": null,
        "weekday_ok": null,
        "status": "unavailable",
        "status_note": "Hiányzó adat"
      },
      "diagnostics": {
        "timeframes": {
          "k1m": {
            "last_raw_utc": null,
            "last_closed_utc": null,
            "latency_seconds": null,
            "expected_max_delay_seconds": 180,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 420.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "SRTY",
            "used_exchange": "NYSEARCA"
          },
          "k5m": {
            "last_raw_utc": null,
            "last_closed_utc": null,
            "latency_seconds": null,
            "expected_max_delay_seconds": 300,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 1200.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "SRTY",
            "used_exchange": "NYSEARCA"
          },
          "k1h": {
            "last_raw_utc": null,
            "last_closed_utc": null,
            "latency_seconds": null,
            "expected_max_delay_seconds": 3600,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 9000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "SRTY",
            "used_exchange": "NYSEARCA"
          },
          "k4h": {
            "last_raw_utc": null,
            "last_closed_utc": null,
            "latency_seconds": null,
            "expected_max_delay_seconds": 14400,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 36000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "SRTY",
            "used_exchange": "NYSEARCA"
          },
          "spot": {
            "last_raw_utc": "2025-10-23T06:05:01Z",
            "latency_seconds": 8098,
            "expected_max_delay_seconds": 600,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "source": "twelvedata:quote+series_fallback",
            "fallback_used": true,
            "realtime_override": true,
            "freshness_limit_seconds": 900.0,
            "freshness_retries": 0,
            "freshness_violation": false,
            "freshness_violation_meta": false,
            "used_symbol": "SRTY",
            "used_exchange": "NYSEARCA",
            "original_issue": "Spot data stale: 134 min behind (limit 10 min)"
          }
        },
        "source_files": {
          "spot.json": "2025-10-23T08:19:31Z",
          "klines_1m.json": "2025-10-23T08:19:31Z",
          "klines_5m.json": "2025-10-23T08:19:31Z",
          "klines_1h.json": "2025-10-23T08:19:31Z",
          "klines_4h.json": "2025-10-23T08:19:31Z"
        },
        "latency_flags": [
          "spot: spot data stale: 134 min behind (limit 10 min) — 5m zárt gyertya árát használjuk (134 perc késés)"
        ],
        "refresh_tips": [
          "Az analysis.py mindig a legutóbbi ZÁRT gyertyával számol (5m: max. ~5 perc késés).",
          "CI/CD-ben kösd össze a Trading és Analysis futást: az analysis job csak a trading után induljon (needs: trading).",
          "A kliens kéréséhez adj cache-busting query paramot (pl. ?v=<timestamp>) és no-store cache-control fejlécet.",
          "Cloudflare Worker stale policy: 5m feedre állítsd 120s-re, hogy hamar átjöjjön az új jel.",
          "A dashboard stabilizáló (2 azonos jel + 10 perc cooldown) lassíthatja a kártya frissítését — lazítsd, ha realtime kell.",
          "Hiányzó ML modellek: EURUSD, GOLD_CFD, NVDA, SRTY, USDJPY, USOIL – töltsd fel a public/models/<asset>_gbm.pkl fájlokat a valószínűségi score aktiválásához."
        ]
      },
      "reasons": [
        "Missing candles: k5m, k1h, k4h"
      ]
    },
    "USDJPY": {
      "asset": "USDJPY",
      "ok": true,
      "retrieved_at_utc": "2025-10-23T08:20:00Z",
      "source": "Twelve Data (lokális JSON)",
      "spot": {
        "price": 152.519,
        "utc": "2025-10-23T08:18:16+00:00",
        "retrieved_at_utc": "2025-10-23T08:18:16+00:00",
        "source": "twelvedata:quote",
        "realtime_override": false,
        "fallback_used": false,
        "confidence": 1.0,
        "avg_latency_profile": 270.51274172421273,
        "realtime_stats": {
          "samples": 3,
          "min_price": 152.38499,
          "max_price": 152.38499,
          "mean_price": 152.38499,
          "latency_avg": 0.0,
          "latency_max": 0.0,
          "latency_median": 0.0,
          "latency_latest": 0.0
        }
      },
      "signal": "no entry",
      "probability": 42,
      "probability_raw": 37,
      "entry": null,
      "sl": null,
      "tp1": null,
      "tp2": null,
      "rr": null,
      "leverage": 30,
      "stale_timeframes": {
        "k1m": false,
        "k5m": false,
        "k1h": false,
        "k4h": false
      },
      "biases": {
        "raw_4h": "long",
        "raw_1h": "long",
        "adjusted_4h": "long",
        "adjusted_1h": "long"
      },
      "gates": {
        "mode": "core",
        "required": [
          "session",
          "regime",
          "bias",
          "bos5m",
          "liquidity(fib zone)",
          "intraday_range_guard",
          "atr",
          "rr_math>=2.1",
          "tp_min_profit",
          "min_stoploss",
          "tp1_net>=+70%",
          "precision_score>=70",
          "precision_flow_alignment",
          "precision_trigger_sync"
        ],
        "missing": [
          "regime",
          "liquidity",
          "atr",
          "P_score>=60.0",
          "precision_score>=70",
          "precision_flow_alignment",
          "precision_trigger_sync"
        ]
      },
      "session_info": {
        "open": true,
        "entry_open": true,
        "within_window": true,
        "within_entry_window": true,
        "within_monitor_window": true,
        "weekday_ok": true,
        "now_utc": "2025-10-23T08:20:00.008374+00:00",
        "windows_utc": [
          [
            0,
            0,
            23,
            59
          ]
        ],
        "time_zone": "Europe/Berlin",
        "windows_local_cet": [
          [
            "02:00",
            "01:59"
          ]
        ],
        "status": "open",
        "status_note": "Piac nyitva"
      },
      "diagnostics": {
        "timeframes": {
          "k1m": {
            "last_raw_utc": "2025-10-23T08:16:00Z",
            "last_closed_utc": "2025-10-23T08:16:00Z",
            "latency_seconds": 240,
            "expected_max_delay_seconds": 180,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 420.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "USD/JPY",
            "used_exchange": "FX"
          },
          "k5m": {
            "last_raw_utc": "2025-10-23T08:15:00Z",
            "last_closed_utc": "2025-10-23T08:15:00Z",
            "latency_seconds": 300,
            "expected_max_delay_seconds": 300,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 1200.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "USD/JPY",
            "used_exchange": "FX"
          },
          "k1h": {
            "last_raw_utc": "2025-10-23T08:00:00Z",
            "last_closed_utc": "2025-10-23T08:00:00Z",
            "latency_seconds": 1200,
            "expected_max_delay_seconds": 3600,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 9000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "USD/JPY",
            "used_exchange": "FX"
          },
          "k4h": {
            "last_raw_utc": "2025-10-23T08:00:00Z",
            "last_closed_utc": "2025-10-23T08:00:00Z",
            "latency_seconds": 1200,
            "expected_max_delay_seconds": 14400,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 36000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "USD/JPY",
            "used_exchange": "FX"
          },
          "spot": {
            "last_raw_utc": "2025-10-23T08:18:16Z",
            "latency_seconds": 104,
            "expected_max_delay_seconds": 900,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "source": "twelvedata:quote",
            "fallback_used": false,
            "realtime_override": false,
            "freshness_limit_seconds": 900.0,
            "freshness_retries": 0,
            "freshness_violation": false,
            "freshness_violation_meta": false,
            "used_symbol": "USD/JPY",
            "used_exchange": "FX"
          }
        },
        "source_files": {
          "spot.json": "2025-10-23T08:19:31Z",
          "klines_1m.json": "2025-10-23T08:19:31Z",
          "klines_5m.json": "2025-10-23T08:19:31Z",
          "klines_1h.json": "2025-10-23T08:19:31Z",
          "klines_4h.json": "2025-10-23T08:19:31Z"
        },
        "latency_flags": [],
        "refresh_tips": [
          "Az analysis.py mindig a legutóbbi ZÁRT gyertyával számol (5m: max. ~5 perc késés).",
          "CI/CD-ben kösd össze a Trading és Analysis futást: az analysis job csak a trading után induljon (needs: trading).",
          "A kliens kéréséhez adj cache-busting query paramot (pl. ?v=<timestamp>) és no-store cache-control fejlécet.",
          "Cloudflare Worker stale policy: 5m feedre állítsd 120s-re, hogy hamar átjöjjön az új jel.",
          "A dashboard stabilizáló (2 azonos jel + 10 perc cooldown) lassíthatja a kártya frissítését — lazítsd, ha realtime kell.",
          "Hiányzó ML modellek: EURUSD, GOLD_CFD, NVDA, SRTY, USDJPY, USOIL – töltsd fel a public/models/<asset>_gbm.pkl fájlokat a valószínűségi score aktiválásához."
        ]
      },
      "reasons": [
        "Bias(4H→1H)=long (+15.0)",
        "Regime filter inaktív",
        "5M BOS trendirányba (+16.0)",
        "ATR nincs rendben (relatív vagy abszolút küszöb)",
        "Alacsony realised vol → magasabb RR igény",
        "Range expanzió támogatja a momentumot (+3.0)",
        "Pozíciómenedzsment: aktív short pozíció a jelenlegi bias (long) ellen → defenzív menedzsment, részleges zárás vagy szoros SL (aktív short pozíció, nyitva: 2025-10-17 12:59 helyi idő; 1h ATR ≈ 0.1774)",
        "ML fallback: scikit-learn hiányzik — heurisztikus pontozás aktív",
        "missing: regime, liquidity, atr, P_score>=60.0, precision_score>=70, precision_flow_alignment, precision_trigger_sync"
      ],
      "realtime_transport": "http",
      "probability_model_source": "fallback",
      "probability_fallback": {
        "base_probability": 0.37,
        "adjusted_logit": -0.04775004873389682,
        "probability": 0.48806475549360084,
        "threshold": 0.57,
        "steps": [
          {
            "feature": "ema21_slope",
            "weight": 1.1,
            "normalized": 0.06276875985692561,
            "delta": 0.06904563584261818
          },
          {
            "feature": "rel_atr",
            "weight": 0.35,
            "normalized": 0.02034608334512303,
            "delta": 0.00712112917079306
          },
          {
            "feature": "momentum_vol_ratio",
            "weight": 0.35,
            "normalized": -1.0,
            "delta": -0.35
          },
          {
            "feature": "news_event_severity",
            "weight": 0.25,
            "normalized": -0.5,
            "delta": -0.125
          },
          {
            "feature": "realtime_confidence",
            "weight": 0.9,
            "normalized": 0.6000000000000001,
            "delta": 0.5400000000000001
          },
          {
            "feature": "precision_score",
            "weight": 0.35,
            "normalized": 0.2,
            "delta": 0.06999999999999999
          },
          {
            "feature": "precision_trigger_confidence",
            "weight": 0.55,
            "normalized": -0.15400000000000005,
            "delta": -0.08470000000000004
          },
          {
            "feature": "structure_flip_flag",
            "weight": 0.55,
            "normalized": 1.0,
            "delta": 0.55
          },
          {
            "feature": "momentum_trail_lock_ratio",
            "weight": 0.4,
            "normalized": -0.48,
            "delta": -0.192
          }
        ],
        "reason": "sklearn_missing"
      },
      "probability_model": 0.48806475549360084,
      "probability_model_raw": 0.37,
      "probability_calibrated": 0.48806475549360084,
      "probability_threshold": 0.57,
      "probability_stack": {
        "asset": "USDJPY",
        "unavailable_reason": "sklearn_missing",
        "source": "fallback",
        "fallback": {
          "base_probability": 0.37,
          "adjusted_logit": -0.04775004873389682,
          "probability": 0.48806475549360084,
          "threshold": 0.57,
          "steps": [
            {
              "feature": "ema21_slope",
              "weight": 1.1,
              "normalized": 0.06276875985692561,
              "delta": 0.06904563584261818
            },
            {
              "feature": "rel_atr",
              "weight": 0.35,
              "normalized": 0.02034608334512303,
              "delta": 0.00712112917079306
            },
            {
              "feature": "momentum_vol_ratio",
              "weight": 0.35,
              "normalized": -1.0,
              "delta": -0.35
            },
            {
              "feature": "news_event_severity",
              "weight": 0.25,
              "normalized": -0.5,
              "delta": -0.125
            },
            {
              "feature": "realtime_confidence",
              "weight": 0.9,
              "normalized": 0.6000000000000001,
              "delta": 0.5400000000000001
            },
            {
              "feature": "precision_score",
              "weight": 0.35,
              "normalized": 0.2,
              "delta": 0.06999999999999999
            },
            {
              "feature": "precision_trigger_confidence",
              "weight": 0.55,
              "normalized": -0.15400000000000005,
              "delta": -0.08470000000000004
            },
            {
              "feature": "structure_flip_flag",
              "weight": 0.55,
              "normalized": 1.0,
              "delta": 0.55
            },
            {
              "feature": "momentum_trail_lock_ratio",
              "weight": 0.4,
              "normalized": -0.48,
              "delta": -0.192
            }
          ],
          "reason": "sklearn_missing"
        }
      },
      "ema21_slope_1h": 0.0025107503942770246,
      "ema21_slope_threshold": 0.015,
      "ema21_relation_1h": "above",
      "last_swing_high_1h": 151.843994,
      "last_swing_low_1h": 152.384003,
      "last_close_1h": 152.518997,
      "bos_5m_dir": "bos_up",
      "atr1h": 0.17735514285713805,
      "momentum_volume_ratio": null,
      "momentum_liquidity_ok": true,
      "dynamic_tp_profile": {
        "core": {
          "tp1": 1.8,
          "tp2": 2.7,
          "rr": 2.1
        },
        "momentum": {
          "tp1": 1.5,
          "tp2": 2.4,
          "rr": 1.6800000000000002
        },
        "regime": "compressed",
        "reference": {
          "current": 0.06721392857142965,
          "q20": 0.037672585714284015,
          "q50": 0.05278650000000239,
          "q80": 0.07234367142857008
        }
      },
      "order_flow_metrics": {
        "imbalance": null,
        "pressure": 0.0,
        "delta_volume": 0.0,
        "aggressor_ratio": null
      },
      "intraday_profile": {
        "asset": "USDJPY",
        "timestamp": "2025-10-23T08:20:00Z",
        "day_start_utc": "2025-10-22T22:00:00Z",
        "day_open": 151.957001,
        "day_high": 152.647995,
        "day_low": 151.938004,
        "day_range": 0.7099910000000023,
        "range_vs_atr": 10.563152832905459,
        "range_position": 0.8183145983540596,
        "range_bias": "upper",
        "range_state": "expansion",
        "range_compression": false,
        "range_expansion": true,
        "range_exhaustion_long": false,
        "range_exhaustion_short": false,
        "range_guard": {
          "long": false,
          "short": false
        },
        "opening_range_high": null,
        "opening_range_low": null,
        "opening_break": "none",
        "opening_range_minutes": 45,
        "opening_drive_ratio": null,
        "price_reference": 152.519,
        "elapsed_minutes": 620,
        "notes": [
          "Range expanzió >1.5×ATR — agresszív menedzsment indokolt."
        ]
      },
      "volatility_overlay": {
        "implied_vol": null,
        "realised_vol": 0.00012203181328200551,
        "realised_window_minutes": 120,
        "regime": "suppressed",
        "premium": null,
        "source_path": null,
        "implied_realised_ratio": null
      },
      "precision_plan": {
        "asset": "USDJPY",
        "direction": "buy",
        "score": 62.0,
        "confidence": "medium",
        "entry": 152.494003,
        "entry_window": [
          152.46174031428572,
          152.51013434285713
        ],
        "stop_loss": 152.41334628571428,
        "take_profit_1": 152.6553164285714,
        "take_profit_2": 152.73597314285715,
        "risk": 0.08065671428571557,
        "liquidity_levels": [
          152.459,
          152.449997,
          152.466995,
          152.477997,
          152.494003
        ],
        "factors": [
          "ATR1m 0.0268",
          "ATR5m 0.0672",
          "price near liquidity pocket"
        ],
        "score_threshold": 70.0,
        "score_ready": false,
        "trigger_state": "standby",
        "trigger_ready": false,
        "trigger_levels": {
          "window_low": 152.46174031428572,
          "window_high": 152.51013434285713,
          "fire": 152.494003,
          "arm": 152.51013434285713,
          "disarm": 152.46174031428572
        },
        "ready_ts": "2025-10-23T08:15:00Z",
        "order_flow_ready": false,
        "order_flow_strength": 0.0,
        "microstructure_score": 62.0,
        "trigger_progress": 0.7,
        "trigger_confidence": 0.44,
        "trigger_reasons": [
          "price near window"
        ],
        "context": {
          "intraday_profile": {
            "range_state": "expansion",
            "range_position": 0.8183145983540596,
            "range_vs_atr": 10.563152832905459
          }
        }
      },
      "execution_playbook": [
        {
          "step": "precision_trigger",
          "state": "standby",
          "description": "Precision trigger: standby",
          "entry_window": [
            152.46174031428572,
            152.51013434285713
          ],
          "trigger_levels": {
            "window_low": 152.46174031428572,
            "window_high": 152.51013434285713,
            "fire": 152.494003,
            "arm": 152.51013434285713,
            "disarm": 152.46174031428572
          },
          "ready_ts": "2025-10-23T08:15:00Z",
          "score": 62.0,
          "score_threshold": 70.0,
          "score_ready": false,
          "trigger_ready": false,
          "order_flow_ready": false,
          "order_flow_strength": 0.0,
          "trigger_progress": 0.7,
          "trigger_confidence": 0.44,
          "reasons": [
            "price near window"
          ]
        }
      ],
      "invalid_levels": {
        "buy": 152.29532542857143,
        "sell": 151.93267157142859
      },
      "invalid_buffer_abs": 0.08867757142856902,
      "position_management": "Pozíciómenedzsment: aktív short pozíció a jelenlegi bias (long) ellen → defenzív menedzsment, részleges zárás vagy szoros SL (aktív short pozíció, nyitva: 2025-10-17 12:59 helyi idő; 1h ATR ≈ 0.1774)",
      "action_plan": {
        "status": "standby",
        "priority": "low",
        "summary": "Nincs belépő – dolgozd le a hiányzó feltételeket.",
        "steps": [
          {
            "order": 1,
            "category": "precision_trigger",
            "instruction": "Precision trigger: standby",
            "source": "execution_playbook",
            "entry_window": [
              152.46174031428572,
              152.51013434285713
            ],
            "trigger_levels": {
              "window_low": 152.46174031428572,
              "window_high": 152.51013434285713,
              "fire": 152.494003,
              "arm": 152.51013434285713,
              "disarm": 152.46174031428572
            }
          }
        ],
        "blockers": [
          "Trend filter nem támogatja az irányt.",
          "Forgalmi feltételek nem teljesültek – várj nagyobb volumenre.",
          "ATR feltétel nem teljesült – volatilitás nem megfelelő.",
          "P_score>=60.0",
          "Precision score érje el a 70 szintet.",
          "Precision belépő: order flow megerősítés hiányzik.",
          "Precision belépő: trigger szinkronra vár."
        ],
        "blockers_raw": [
          "regime",
          "liquidity",
          "atr",
          "P_score>=60.0",
          "precision_score>=70",
          "precision_flow_alignment",
          "precision_trigger_sync"
        ],
        "notes": [
          "Range expanzió >1.5×ATR — agresszív menedzsment indokolt.",
          "Összesített valószínűség: 42%.",
          "Ajánlott tőkeáttétel: ×30.0.",
          "Precision score: 62.00 / küszöb 70.",
          "Precision confidence: medium.",
          "Precision trigger állapot: standby.",
          "Pozíciómenedzsment: aktív short pozíció a jelenlegi bias (long) ellen → defenzív menedzsment, részleges zárás vagy szoros SL (aktív short pozíció, nyitva: 2025-10-17 12:59 helyi idő; 1h ATR ≈ 0.1774)",
          "Bias(4H→1H)=long (+15.0)",
          "Regime filter inaktív",
          "5M BOS trendirányba (+16.0)",
          "ATR nincs rendben (relatív vagy abszolút küszöb)",
          "Alacsony realised vol → magasabb RR igény",
          "Range expanzió támogatja a momentumot (+3.0)"
        ],
        "context": {
          "asset": "USDJPY",
          "decision": "no entry",
          "probability": 42,
          "session_open": true,
          "session_entry_open": true,
          "session_status": "open",
          "intraday_profile": {
            "range_state": "expansion",
            "range_position": 0.8183145983540596,
            "range_vs_atr": 10.563152832905459,
            "range_guard": {
              "long": false,
              "short": false
            },
            "opening_break": "none"
          },
          "precision_state": "standby",
          "precision_direction": "buy"
        }
      },
      "active_position_meta": {
        "ema21_slope_abs": 0.0025107503942770246,
        "ema21_slope_signed": 0.0025107503942770246,
        "ema21_slope_threshold": 0.015,
        "ema21_relation": "above",
        "structure_5m": "bos_up",
        "stale_timeframes": {
          "k1m": false,
          "k5m": false,
          "k1h": false,
          "k4h": false
        },
        "atr1h": 0.17735514285713805,
        "atr1h_trail_floor": 0.08867757142856902,
        "atr5": 0.06721392857142965,
        "atr5_rel": 0.0004406921666902461,
        "atr5_threshold": 0.03,
        "bos1h_long": true,
        "bos1h_short": false,
        "regime_ok": false,
        "effective_bias": "long",
        "last_close_1h": 152.518997,
        "last_swing_high_1h": 151.843994,
        "last_swing_low_1h": 152.384003,
        "invalid_level_sell": 151.93267157142859,
        "invalid_level_buy": 152.29532542857143,
        "invalid_buffer_abs": 0.08867757142856902,
        "p_score": 37,
        "probability_calibrated": 0.48806475549360084,
        "probability_threshold": 0.57,
        "probability_model_raw": 0.37,
        "probability_model_source": "fallback",
        "tp_profile": {
          "tp1_r": 1.8,
          "tp2_r": 2.7
        },
        "realtime_confidence": 1.0,
        "avg_latency_profile": 270.51274172421273,
        "probability_fallback": {
          "base_probability": 0.37,
          "adjusted_logit": -0.04775004873389682,
          "probability": 0.48806475549360084,
          "threshold": 0.57,
          "steps": [
            {
              "feature": "ema21_slope",
              "weight": 1.1,
              "normalized": 0.06276875985692561,
              "delta": 0.06904563584261818
            },
            {
              "feature": "rel_atr",
              "weight": 0.35,
              "normalized": 0.02034608334512303,
              "delta": 0.00712112917079306
            },
            {
              "feature": "momentum_vol_ratio",
              "weight": 0.35,
              "normalized": -1.0,
              "delta": -0.35
            },
            {
              "feature": "news_event_severity",
              "weight": 0.25,
              "normalized": -0.5,
              "delta": -0.125
            },
            {
              "feature": "realtime_confidence",
              "weight": 0.9,
              "normalized": 0.6000000000000001,
              "delta": 0.5400000000000001
            },
            {
              "feature": "precision_score",
              "weight": 0.35,
              "normalized": 0.2,
              "delta": 0.06999999999999999
            },
            {
              "feature": "precision_trigger_confidence",
              "weight": 0.55,
              "normalized": -0.15400000000000005,
              "delta": -0.08470000000000004
            },
            {
              "feature": "structure_flip_flag",
              "weight": 0.55,
              "normalized": 1.0,
              "delta": 0.55
            },
            {
              "feature": "momentum_trail_lock_ratio",
              "weight": 0.4,
              "normalized": -0.48,
              "delta": -0.192
            }
          ],
          "reason": "sklearn_missing"
        },
        "realtime_stats": {
          "samples": 3,
          "min_price": 152.38499,
          "max_price": 152.38499,
          "mean_price": 152.38499,
          "latency_avg": 0.0,
          "latency_max": 0.0,
          "latency_median": 0.0,
          "latency_latest": 0.0
        },
        "anchor_side": "short",
        "anchor_price": 149.925003,
        "anchor_timestamp": "2025-10-17T10:59:39Z",
        "previous_p_score": 37.0,
        "precision_plan": {
          "asset": "USDJPY",
          "direction": "buy",
          "score": 62.0,
          "confidence": "medium",
          "entry": 152.494003,
          "entry_window": [
            152.46174031428572,
            152.51013434285713
          ],
          "stop_loss": 152.41334628571428,
          "take_profit_1": 152.6553164285714,
          "take_profit_2": 152.73597314285715,
          "risk": 0.08065671428571557,
          "liquidity_levels": [
            152.459,
            152.449997,
            152.466995,
            152.477997,
            152.494003
          ],
          "factors": [
            "ATR1m 0.0268",
            "ATR5m 0.0672",
            "price near liquidity pocket"
          ],
          "score_threshold": 70.0,
          "score_ready": false,
          "trigger_state": "standby",
          "trigger_ready": false,
          "trigger_levels": {
            "window_low": 152.46174031428572,
            "window_high": 152.51013434285713,
            "fire": 152.494003,
            "arm": 152.51013434285713,
            "disarm": 152.46174031428572
          },
          "ready_ts": "2025-10-23T08:15:00Z",
          "order_flow_ready": false,
          "order_flow_strength": 0.0,
          "microstructure_score": 62.0,
          "trigger_progress": 0.7,
          "trigger_confidence": 0.44,
          "trigger_reasons": [
            "price near window"
          ],
          "context": {
            "intraday_profile": {
              "range_state": "expansion",
              "range_position": 0.8183145983540596,
              "range_vs_atr": 10.563152832905459
            }
          }
        },
        "precision_trigger": {
          "state": "standby",
          "ready_ts": "2025-10-23T08:15:00Z",
          "entry_window": [
            152.46174031428572,
            152.51013434285713
          ],
          "trigger_levels": {
            "window_low": 152.46174031428572,
            "window_high": 152.51013434285713,
            "fire": 152.494003,
            "arm": 152.51013434285713,
            "disarm": 152.46174031428572
          },
          "score": 62.0,
          "score_threshold": 70.0,
          "score_ready": false,
          "trigger_ready": false,
          "order_flow_ready": false,
          "order_flow_strength": 0.0,
          "trigger_progress": 0.7,
          "trigger_confidence": 0.44,
          "reasons": [
            "price near window"
          ]
        },
        "action_plan": {
          "status": "standby",
          "priority": "low",
          "summary": "Nincs belépő – dolgozd le a hiányzó feltételeket.",
          "steps": [
            {
              "order": 1,
              "category": "precision_trigger",
              "instruction": "Precision trigger: standby",
              "source": "execution_playbook",
              "entry_window": [
                152.46174031428572,
                152.51013434285713
              ],
              "trigger_levels": {
                "window_low": 152.46174031428572,
                "window_high": 152.51013434285713,
                "fire": 152.494003,
                "arm": 152.51013434285713,
                "disarm": 152.46174031428572
              }
            }
          ],
          "blockers": [
            "Trend filter nem támogatja az irányt.",
            "Forgalmi feltételek nem teljesültek – várj nagyobb volumenre.",
            "ATR feltétel nem teljesült – volatilitás nem megfelelő.",
            "P_score>=60.0",
            "Precision score érje el a 70 szintet.",
            "Precision belépő: order flow megerősítés hiányzik.",
            "Precision belépő: trigger szinkronra vár."
          ],
          "blockers_raw": [
            "regime",
            "liquidity",
            "atr",
            "P_score>=60.0",
            "precision_score>=70",
            "precision_flow_alignment",
            "precision_trigger_sync"
          ],
          "notes": [
            "Range expanzió >1.5×ATR — agresszív menedzsment indokolt.",
            "Összesített valószínűség: 42%.",
            "Ajánlott tőkeáttétel: ×30.0.",
            "Precision score: 62.00 / küszöb 70.",
            "Precision confidence: medium.",
            "Precision trigger állapot: standby.",
            "Pozíciómenedzsment: aktív short pozíció a jelenlegi bias (long) ellen → defenzív menedzsment, részleges zárás vagy szoros SL (aktív short pozíció, nyitva: 2025-10-17 12:59 helyi idő; 1h ATR ≈ 0.1774)",
            "Bias(4H→1H)=long (+15.0)",
            "Regime filter inaktív",
            "5M BOS trendirányba (+16.0)",
            "ATR nincs rendben (relatív vagy abszolút küszöb)",
            "Alacsony realised vol → magasabb RR igény",
            "Range expanzió támogatja a momentumot (+3.0)"
          ],
          "context": {
            "asset": "USDJPY",
            "decision": "no entry",
            "probability": 42,
            "session_open": true,
            "session_entry_open": true,
            "session_status": "open",
            "intraday_profile": {
              "range_state": "expansion",
              "range_position": 0.8183145983540596,
              "range_vs_atr": 10.563152832905459,
              "range_guard": {
                "long": false,
                "short": false
              },
              "opening_break": "none"
            },
            "precision_state": "standby",
            "precision_direction": "buy"
          }
        },
        "execution_playbook": [
          {
            "step": "precision_trigger",
            "state": "standby",
            "description": "Precision trigger: standby",
            "entry_window": [
              152.46174031428572,
              152.51013434285713
            ],
            "trigger_levels": {
              "window_low": 152.46174031428572,
              "window_high": 152.51013434285713,
              "fire": 152.494003,
              "arm": 152.51013434285713,
              "disarm": 152.46174031428572
            },
            "ready_ts": "2025-10-23T08:15:00Z",
            "score": 62.0,
            "score_threshold": 70.0,
            "score_ready": false,
            "trigger_ready": false,
            "order_flow_ready": false,
            "order_flow_strength": 0.0,
            "trigger_progress": 0.7,
            "trigger_confidence": 0.44,
            "reasons": [
              "price near window"
            ]
          }
        ]
      },
      "intervention_watch": {
        "irs": 20,
        "band": "LOW",
        "since_utc": "2025-10-23T03:23:12Z",
        "updated_utc": "2025-10-23T08:20:00Z",
        "reasons": [],
        "policy": [
          "spread_guard_top3bars>=1.4×normal → pause entries 5-10m",
          "discord_alert_cooldown:10m"
        ],
        "metrics": {
          "price": 152.518997,
          "nearest_big_figure": 153.0,
          "dist_pips": 48.1002999999987,
          "roc_30m_pips": 6.900000000001683,
          "d5_pips": 2.4994000000020833,
          "atr5_pips": 6.721392857142964,
          "atr5_median_pips": 5.00019999999982,
          "rv_ratio": 0.2835048113308786,
          "session_points": 0.0,
          "comms_points": 0.0,
          "comms_from_flag": 0.0,
          "comms_from_sentiment": 0.0,
          "sentiment_score": null,
          "components": {
            "level_pressure": 20.37994000000026,
            "speed": 0.0,
            "vol_spike": 0.0,
            "session": 0.0,
            "comms": 0.0,
            "delta5_spike": false,
            "atr_spike": false,
            "vr_spike": false,
            "wick_pressure": false
          }
        },
        "score_breakdown": {
          "level_pressure": 20.37994000000026,
          "speed": 0.0,
          "vol_spike": 0.0,
          "session": 0.0,
          "comms": 0.0
        },
        "news_flag": 0
      }
    },
    "USOIL": {
      "asset": "USOIL",
      "ok": true,
      "retrieved_at_utc": "2025-10-23T08:20:00Z",
      "source": "Twelve Data (lokális JSON)",
      "spot": {
        "price": 60.47,
        "utc": "2025-10-23T08:18:19+00:00",
        "retrieved_at_utc": "2025-10-23T08:18:19+00:00",
        "source": "twelvedata:quote",
        "realtime_override": false,
        "fallback_used": false,
        "confidence": 1.0,
        "avg_latency_profile": 269.5507542995274,
        "realtime_stats": {
          "samples": 3,
          "min_price": 60.8,
          "max_price": 60.8,
          "mean_price": 60.79999999999999,
          "latency_avg": 0.0,
          "latency_max": 0.0,
          "latency_median": 0.0,
          "latency_latest": 0.0
        }
      },
      "signal": "no entry",
      "probability": 12,
      "probability_raw": 16,
      "entry": null,
      "sl": null,
      "tp1": null,
      "tp2": null,
      "rr": null,
      "leverage": 20,
      "stale_timeframes": {
        "k1m": false,
        "k5m": false,
        "k1h": false,
        "k4h": false
      },
      "biases": {
        "raw_4h": "neutral",
        "raw_1h": "long",
        "adjusted_4h": "neutral",
        "adjusted_1h": "long"
      },
      "gates": {
        "mode": "core",
        "required": [
          "session",
          "regime",
          "bias",
          "bos5m",
          "liquidity(fib|sweep|ema21|retest)",
          "intraday_range_guard",
          "atr",
          "rr_math>=2.1",
          "tp_min_profit",
          "min_stoploss",
          "tp1_net>=+90%"
        ],
        "missing": [
          "regime",
          "bias",
          "bos5m",
          "atr",
          "P_score>=60.0"
        ]
      },
      "session_info": {
        "open": true,
        "entry_open": true,
        "within_window": true,
        "within_entry_window": true,
        "within_monitor_window": true,
        "weekday_ok": true,
        "now_utc": "2025-10-23T08:20:00.689027+00:00",
        "windows_utc": [
          [
            0,
            30,
            23,
            0
          ]
        ],
        "monitor_windows_utc": [
          [
            0,
            0,
            23,
            59
          ]
        ],
        "time_zone": "Europe/Berlin",
        "windows_local_cet": [
          [
            "02:30",
            "01:00"
          ]
        ],
        "monitor_windows_local_cet": [
          [
            "02:00",
            "01:59"
          ]
        ],
        "status": "open",
        "status_note": "Piac nyitva"
      },
      "diagnostics": {
        "timeframes": {
          "k1m": {
            "last_raw_utc": "2025-10-23T08:15:00Z",
            "last_closed_utc": "2025-10-23T08:15:00Z",
            "latency_seconds": 300,
            "expected_max_delay_seconds": 180,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 420.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "WTI/USD",
            "used_exchange": null
          },
          "k5m": {
            "last_raw_utc": "2025-10-23T08:15:00Z",
            "last_closed_utc": "2025-10-23T08:15:00Z",
            "latency_seconds": 300,
            "expected_max_delay_seconds": 300,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 1200.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "WTI/USD",
            "used_exchange": null
          },
          "k1h": {
            "last_raw_utc": "2025-10-23T08:00:00Z",
            "last_closed_utc": "2025-10-23T08:00:00Z",
            "latency_seconds": 1200,
            "expected_max_delay_seconds": 3600,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 9000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "WTI/USD",
            "used_exchange": null
          },
          "k4h": {
            "last_raw_utc": "2025-10-23T08:00:00Z",
            "last_closed_utc": "2025-10-23T08:00:00Z",
            "latency_seconds": 1200,
            "expected_max_delay_seconds": 14400,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "stale_for_signals": false,
            "freshness_limit_seconds": 36000.0,
            "freshness_violation": false,
            "freshness_retries": 0,
            "used_symbol": "WTI/USD",
            "used_exchange": null
          },
          "spot": {
            "last_raw_utc": "2025-10-23T08:18:19Z",
            "latency_seconds": 101,
            "expected_max_delay_seconds": 900,
            "source_mtime_utc": "2025-10-23T08:19:31Z",
            "source": "twelvedata:quote",
            "fallback_used": false,
            "realtime_override": false,
            "freshness_limit_seconds": 900.0,
            "freshness_retries": 0,
            "freshness_violation": false,
            "freshness_violation_meta": false,
            "used_symbol": "WTI/USD",
            "used_exchange": null
          }
        },
        "source_files": {
          "spot.json": "2025-10-23T08:19:31Z",
          "klines_1m.json": "2025-10-23T08:19:31Z",
          "klines_5m.json": "2025-10-23T08:19:31Z",
          "klines_1h.json": "2025-10-23T08:19:31Z",
          "klines_4h.json": "2025-10-23T08:19:31Z"
        },
        "latency_flags": [],
        "refresh_tips": [
          "Az analysis.py mindig a legutóbbi ZÁRT gyertyával számol (5m: max. ~5 perc késés).",
          "CI/CD-ben kösd össze a Trading és Analysis futást: az analysis job csak a trading után induljon (needs: trading).",
          "A kliens kéréséhez adj cache-busting query paramot (pl. ?v=<timestamp>) és no-store cache-control fejlécet.",
          "Cloudflare Worker stale policy: 5m feedre állítsd 120s-re, hogy hamar átjöjjön az új jel.",
          "A dashboard stabilizáló (2 azonos jel + 10 perc cooldown) lassíthatja a kártya frissítését — lazítsd, ha realtime kell.",
          "Hiányzó ML modellek: EURUSD, GOLD_CFD, NVDA, SRTY, USDJPY, USOIL – töltsd fel a public/models/<asset>_gbm.pkl fájlokat a valószínűségi score aktiválásához."
        ]
      },
      "reasons": [
        "Bias neutrálsávban",
        "Regime filter inaktív",
        "ATR nincs rendben (relatív vagy abszolút küszöb)",
        "Fib zóna konfluencia (0.618–0.886) (+18.0)",
        "Anchor trail drift romlik (−5)",
        "Pozíciómenedzsment: aktív short pozíció invalidálódott → hard exit szükséges (stop-loss zóna sérült; strukturális invalid szint elesett) (aktív short pozíció, nyitva: 2025-10-20 18:46 helyi idő; 1h ATR ≈ 0.52)",
        "ML fallback: scikit-learn hiányzik — heurisztikus pontozás aktív",
        "missing: regime, bias, bos5m, atr, P_score>=60.0"
      ],
      "realtime_transport": "http",
      "probability_model_source": "fallback",
      "probability_fallback": {
        "base_probability": 0.16,
        "adjusted_logit": -2.8287280766035328,
        "probability": 0.055791363338861255,
        "threshold": 0.6,
        "steps": [
          {
            "feature": "bias_neutral_penalty",
            "weight": -0.55,
            "normalized": 1.0,
            "delta": -0.55
          },
          {
            "feature": "rel_atr",
            "weight": 0.35,
            "normalized": 1.0,
            "delta": 0.35
          },
          {
            "feature": "momentum_vol_ratio",
            "weight": 0.35,
            "normalized": -1.0,
            "delta": -0.35
          },
          {
            "feature": "news_event_severity",
            "weight": 0.25,
            "normalized": -0.5,
            "delta": -0.125
          },
          {
            "feature": "realtime_confidence",
            "weight": 0.9,
            "normalized": 0.6000000000000001,
            "delta": 0.5400000000000001
          },
          {
            "feature": "precision_score",
            "weight": 0.35,
            "normalized": -1.2,
            "delta": -0.42
          },
          {
            "feature": "precision_trigger_confidence",
            "weight": 0.55,
            "normalized": -0.77,
            "delta": -0.42350000000000004
          },
          {
            "feature": "momentum_trail_lock_ratio",
            "weight": 0.4,
            "normalized": -0.48,
            "delta": -0.192
          }
        ],
        "reason": "sklearn_missing"
      },
      "probability_model": 0.055791363338861255,
      "probability_model_raw": 0.16,
      "probability_calibrated": 0.055791363338861255,
      "probability_threshold": 0.6,
      "probability_stack": {
        "asset": "USOIL",
        "unavailable_reason": "sklearn_missing",
        "source": "fallback",
        "fallback": {
          "base_probability": 0.16,
          "adjusted_logit": -2.8287280766035328,
          "probability": 0.055791363338861255,
          "threshold": 0.6,
          "steps": [
            {
              "feature": "bias_neutral_penalty",
              "weight": -0.55,
              "normalized": 1.0,
              "delta": -0.55
            },
            {
              "feature": "rel_atr",
              "weight": 0.35,
              "normalized": 1.0,
              "delta": 0.35
            },
            {
              "feature": "momentum_vol_ratio",
              "weight": 0.35,
              "normalized": -1.0,
              "delta": -0.35
            },
            {
              "feature": "news_event_severity",
              "weight": 0.25,
              "normalized": -0.5,
              "delta": -0.125
            },
            {
              "feature": "realtime_confidence",
              "weight": 0.9,
              "normalized": 0.6000000000000001,
              "delta": 0.5400000000000001
            },
            {
              "feature": "precision_score",
              "weight": 0.35,
              "normalized": -1.2,
              "delta": -0.42
            },
            {
              "feature": "precision_trigger_confidence",
              "weight": 0.55,
              "normalized": -0.77,
              "delta": -0.42350000000000004
            },
            {
              "feature": "momentum_trail_lock_ratio",
              "weight": 0.4,
              "normalized": -0.48,
              "delta": -0.192
            }
          ],
          "reason": "sklearn_missing"
        }
      },
      "ema21_slope_1h": 0.0217036865999424,
      "ema21_slope_threshold": 0.025,
      "ema21_relation_1h": "above",
      "last_swing_high_1h": 58.41,
      "last_swing_low_1h": 60.310001,
      "last_close_1h": 60.470001,
      "bos_5m_dir": "bos_down",
      "atr1h": 0.5164284285714292,
      "momentum_volume_ratio": null,
      "momentum_liquidity_ok": true,
      "dynamic_tp_profile": {
        "core": {
          "tp1": 1.8,
          "tp2": 2.7,
          "rr": 2.1
        },
        "momentum": {
          "tp1": 1.5,
          "tp2": 2.4,
          "rr": 1.7
        },
        "regime": "compressed",
        "reference": {
          "current": 0.1628571428571404,
          "q20": 0.05885702857142771,
          "q50": 0.12642828571428666,
          "q80": 0.18071432857142802
        }
      },
      "order_flow_metrics": {
        "imbalance": null,
        "pressure": 0.0,
        "delta_volume": 0.0,
        "aggressor_ratio": null
      },
      "intraday_profile": {
        "asset": "USOIL",
        "timestamp": "2025-10-23T08:20:00Z",
        "day_start_utc": "2025-10-22T22:00:00Z",
        "day_open": 60.0,
        "day_high": 60.900002,
        "day_low": 59.669998,
        "day_range": 1.230004000000001,
        "range_vs_atr": 7.552656140350997,
        "range_position": 0.6504060149397877,
        "range_bias": "upper",
        "range_state": "expansion",
        "range_compression": false,
        "range_expansion": true,
        "range_exhaustion_long": false,
        "range_exhaustion_short": false,
        "range_guard": {
          "long": false,
          "short": false
        },
        "opening_range_high": null,
        "opening_range_low": null,
        "opening_break": "none",
        "opening_range_minutes": 45,
        "opening_drive_ratio": null,
        "price_reference": 60.47,
        "elapsed_minutes": 620,
        "notes": [
          "Range expanzió >1.5×ATR — agresszív menedzsment indokolt."
        ]
      },
      "volatility_overlay": {
        "implied_vol": null,
        "realised_vol": 0.0007689221181110728,
        "realised_window_minutes": 120,
        "regime": "historical",
        "premium": null,
        "source_path": null,
        "implied_realised_ratio": null
      },
      "invalid_levels": {
        "buy": 60.051786785714285,
        "sell": 58.66821421428571
      },
      "invalid_buffer_abs": 0.2582142142857146,
      "position_management": "Pozíciómenedzsment: aktív short pozíció invalidálódott → hard exit szükséges (stop-loss zóna sérült; strukturális invalid szint elesett) (aktív short pozíció, nyitva: 2025-10-20 18:46 helyi idő; 1h ATR ≈ 0.52)",
      "position_exit_signal": {
        "state": "hard_exit",
        "severity": "critical",
        "action": "close",
        "reasons": [
          "stop-loss zóna sérült",
          "strukturális invalid szint elesett"
        ],
        "trigger_price": 60.47,
        "triggered_at": "2025-10-23T08:20:00Z",
        "actions": [
          {
            "type": "close",
            "size": 1.0,
            "urgency": "immediate"
          }
        ],
        "category": "structural_invalid",
        "entry_price": 56.549999,
        "stop_loss": 57.260000999999995,
        "direction": "short"
      },
      "action_plan": {
        "status": "manage_position",
        "priority": "high",
        "summary": "Kritikus jelzés: hard exit (short)",
        "steps": [
          {
            "order": 1,
            "category": "exit",
            "instruction": "Zárd a teljes pozíciót (sürgősség: azonnal)",
            "source": "position_exit_signal",
            "type": "close",
            "size": 1.0,
            "urgency": "immediate"
          }
        ],
        "blockers": [
          "Trend filter nem támogatja az irányt.",
          "Nincs egyértelmű bias – várj megerősítésre.",
          "5m struktúra nem erősíti meg a setupot.",
          "ATR feltétel nem teljesült – volatilitás nem megfelelő.",
          "P_score>=60.0"
        ],
        "blockers_raw": [
          "regime",
          "bias",
          "bos5m",
          "atr",
          "P_score>=60.0"
        ],
        "notes": [
          "Range expanzió >1.5×ATR — agresszív menedzsment indokolt.",
          "Összesített valószínűség: 12%.",
          "Ajánlott tőkeáttétel: ×20.0.",
          "Pozíciómenedzsment: aktív short pozíció invalidálódott → hard exit szükséges (stop-loss zóna sérült; strukturális invalid szint elesett) (aktív short pozíció, nyitva: 2025-10-20 18:46 helyi idő; 1h ATR ≈ 0.52)",
          "Bias neutrálsávban",
          "Regime filter inaktív",
          "ATR nincs rendben (relatív vagy abszolút küszöb)",
          "Fib zóna konfluencia (0.618–0.886) (+18.0)",
          "Anchor trail drift romlik (−5)",
          "stop-loss zóna sérült",
          "strukturális invalid szint elesett"
        ],
        "context": {
          "asset": "USOIL",
          "decision": "no entry",
          "probability": 12,
          "session_open": true,
          "session_entry_open": true,
          "session_status": "open",
          "intraday_profile": {
            "range_state": "expansion",
            "range_position": 0.6504060149397877,
            "range_vs_atr": 7.552656140350997,
            "range_guard": {
              "long": false,
              "short": false
            },
            "opening_break": "none"
          }
        }
      },
      "active_position_meta": {
        "ema21_slope_abs": 0.0217036865999424,
        "ema21_slope_signed": 0.0217036865999424,
        "ema21_slope_threshold": 0.025,
        "ema21_relation": "above",
        "structure_5m": "bos_down",
        "stale_timeframes": {
          "k1m": false,
          "k5m": false,
          "k1h": false,
          "k4h": false
        },
        "atr1h": 0.5164284285714292,
        "atr1h_trail_floor": 0.2582142142857146,
        "atr5": 0.1628571428571404,
        "atr5_rel": 0.0026931890665973274,
        "atr5_threshold": 0.35,
        "bos1h_long": true,
        "bos1h_short": false,
        "regime_ok": false,
        "effective_bias": "neutral",
        "last_close_1h": 60.470001,
        "last_swing_high_1h": 58.41,
        "last_swing_low_1h": 60.310001,
        "invalid_level_sell": 58.66821421428571,
        "invalid_level_buy": 60.051786785714285,
        "invalid_buffer_abs": 0.2582142142857146,
        "p_score": 16,
        "probability_calibrated": 0.055791363338861255,
        "probability_threshold": 0.6,
        "probability_model_raw": 0.16,
        "probability_model_source": "fallback",
        "tp_profile": {
          "tp1_r": 1.8,
          "tp2_r": 2.7
        },
        "realtime_confidence": 1.0,
        "avg_latency_profile": 269.5507542995274,
        "probability_fallback": {
          "base_probability": 0.16,
          "adjusted_logit": -2.8287280766035328,
          "probability": 0.055791363338861255,
          "threshold": 0.6,
          "steps": [
            {
              "feature": "bias_neutral_penalty",
              "weight": -0.55,
              "normalized": 1.0,
              "delta": -0.55
            },
            {
              "feature": "rel_atr",
              "weight": 0.35,
              "normalized": 1.0,
              "delta": 0.35
            },
            {
              "feature": "momentum_vol_ratio",
              "weight": 0.35,
              "normalized": -1.0,
              "delta": -0.35
            },
            {
              "feature": "news_event_severity",
              "weight": 0.25,
              "normalized": -0.5,
              "delta": -0.125
            },
            {
              "feature": "realtime_confidence",
              "weight": 0.9,
              "normalized": 0.6000000000000001,
              "delta": 0.5400000000000001
            },
            {
              "feature": "precision_score",
              "weight": 0.35,
              "normalized": -1.2,
              "delta": -0.42
            },
            {
              "feature": "precision_trigger_confidence",
              "weight": 0.55,
              "normalized": -0.77,
              "delta": -0.42350000000000004
            },
            {
              "feature": "momentum_trail_lock_ratio",
              "weight": 0.4,
              "normalized": -0.48,
              "delta": -0.192
            }
          ],
          "reason": "sklearn_missing"
        },
        "realtime_stats": {
          "samples": 3,
          "min_price": 60.8,
          "max_price": 60.8,
          "mean_price": 60.79999999999999,
          "latency_avg": 0.0,
          "latency_max": 0.0,
          "latency_median": 0.0,
          "latency_latest": 0.0
        },
        "anchor_side": "short",
        "anchor_price": 56.549999,
        "anchor_timestamp": "2025-10-20T16:46:00Z",
        "previous_p_score": 16.0,
        "anchor_drift_state": "deteriorating",
        "anchor_drift_score": -3.0763729701303286,
        "action_plan": {
          "status": "manage_position",
          "priority": "high",
          "summary": "Kritikus jelzés: hard exit (short)",
          "steps": [
            {
              "order": 1,
              "category": "exit",
              "instruction": "Zárd a teljes pozíciót (sürgősség: azonnal)",
              "source": "position_exit_signal",
              "type": "close",
              "size": 1.0,
              "urgency": "immediate"
            }
          ],
          "blockers": [
            "Trend filter nem támogatja az irányt.",
            "Nincs egyértelmű bias – várj megerősítésre.",
            "5m struktúra nem erősíti meg a setupot.",
            "ATR feltétel nem teljesült – volatilitás nem megfelelő.",
            "P_score>=60.0"
          ],
          "blockers_raw": [
            "regime",
            "bias",
            "bos5m",
            "atr",
            "P_score>=60.0"
          ],
          "notes": [
            "Range expanzió >1.5×ATR — agresszív menedzsment indokolt.",
            "Összesített valószínűség: 12%.",
            "Ajánlott tőkeáttétel: ×20.0.",
            "Pozíciómenedzsment: aktív short pozíció invalidálódott → hard exit szükséges (stop-loss zóna sérült; strukturális invalid szint elesett) (aktív short pozíció, nyitva: 2025-10-20 18:46 helyi idő; 1h ATR ≈ 0.52)",
            "Bias neutrálsávban",
            "Regime filter inaktív",
            "ATR nincs rendben (relatív vagy abszolút küszöb)",
            "Fib zóna konfluencia (0.618–0.886) (+18.0)",
            "Anchor trail drift romlik (−5)",
            "stop-loss zóna sérült",
            "strukturális invalid szint elesett"
          ],
          "context": {
            "asset": "USOIL",
            "decision": "no entry",
            "probability": 12,
            "session_open": true,
            "session_entry_open": true,
            "session_status": "open",
            "intraday_profile": {
              "range_state": "expansion",
              "range_position": 0.6504060149397877,
              "range_vs_atr": 7.552656140350997,
              "range_guard": {
                "long": false,
                "short": false
              },
              "opening_break": "none"
            }
          }
        },
        "exit_signal": {
          "state": "hard_exit",
          "severity": "critical",
          "action": "close",
          "reasons": [
            "stop-loss zóna sérült",
            "strukturális invalid szint elesett"
          ],
          "trigger_price": 60.47,
          "triggered_at": "2025-10-23T08:20:00Z",
          "actions": [
            {
              "type": "close",
              "size": 1.0,
              "urgency": "immediate"
            }
          ],
          "category": "structural_invalid",
          "entry_price": 56.549999,
          "stop_loss": 57.260000999999995,
          "direction": "short"
        }
      }
    }
  },
  "latency_flags": [
    "k1m: utolsó zárt gyertya 740 perc késésben van",
    "k1m: jelzés korlátozva 740 perc késés miatt",
    "k5m: utolsó zárt gyertya 744 perc késésben van",
    "k5m: jelzés korlátozva 744 perc késés miatt",
    "k1h: utolsó zárt gyertya 769 perc késésben van",
    "k1h: jelzés korlátozva 769 perc késés miatt",
    "k4h: utolsó zárt gyertya 889 perc késésben van",
    "k4h: jelzés korlátozva 889 perc késés miatt",
    "spot: spot data stale: 134 min behind (limit 10 min) — 5m zárt gyertya árát használjuk (134 perc késés)"
  ],
  "troubleshooting": [
    "Az analysis.py mindig a legutóbbi ZÁRT gyertyával számol (5m: max. ~5 perc késés).",
    "CI/CD-ben kösd össze a Trading és Analysis futást: az analysis job csak a trading után induljon (needs: trading).",
    "A kliens kéréséhez adj cache-busting query paramot (pl. ?v=<timestamp>) és no-store cache-control fejlécet.",
    "Cloudflare Worker stale policy: 5m feedre állítsd 120s-re, hogy hamar átjöjjön az új jel.",
    "A dashboard stabilizáló (2 azonos jel + 10 perc cooldown) lassíthatja a kártya frissítését — lazítsd, ha realtime kell.",
    "Hiányzó ML modellek: EURUSD, GOLD_CFD, NVDA, SRTY, USDJPY, USOIL – töltsd fel a public/models/<asset>_gbm.pkl fájlokat a valószínűségi score aktiválásához.",
    "Hiányzó ML modellek: EURUSD, GOLD_CFD, NVDA, SRTY, USDJPY, USOIL – töltsd fel a public/models/<asset>_gbm.pkl fájlokat a valószínűségi score aktiválásához."
  ],
  "pipeline_monitoring": {
    "trading": {
      "started_utc": "2025-10-23T08:18:15Z",
      "completed_utc": "2025-10-23T08:19:11Z",
      "duration_seconds": 56.041
    },
    "updated_utc": "2025-10-23T08:19:57Z",
    "analysis": {
      "started_utc": "2025-10-23T08:19:57Z",
      "lag_from_trading_seconds": 46.325,
      "lag_threshold_seconds": 240,
      "lag_breached": false
    }
  },
  "ml_models_missing": {
    "EURUSD": "public/models/EURUSD_gbm.pkl",
    "GOLD_CFD": "public/models/GOLD_CFD_gbm.pkl",
    "NVDA": "public/models/NVDA_gbm.pkl",
    "SRTY": "public/models/SRTY_gbm.pkl",
    "USDJPY": "public/models/USDJPY_gbm.pkl",
    "USOIL": "public/models/USOIL_gbm.pkl"
  }
}